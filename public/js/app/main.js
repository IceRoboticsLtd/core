//     Underscore.js 1.3.3
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore is freely distributable under the MIT license.
//     Portions of Underscore are inspired or borrowed from Prototype,
//     Oliver Steele's Functional, and John Resig's Micro-Templating.
//     For all details and documentation:
//     http://documentcloud.github.com/underscore

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */

/* ========================================================================
 * Bootstrap: affix.js v3.2.0
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.2.0
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.2.0
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.2.0
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.2.0
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.2.0
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.2.0
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: transition.js v3.2.0
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.2.0
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.2.0
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.2.0
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.2.0
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/**
   * Inspects an object.
   *
   * @see taken from node.js `util` module (copyright Joyent, MIT license)
   * @api private
   */

/**
   * Asserts deep equality
   *
   * @see taken from node.js `assert` module (copyright Joyent, MIT license)
   * @api private
   */

/*!
 * mocha
 * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */

(function(){function e(t,n,r){if(t===n)return t!==0||1/t==1/n;if(t==null||n==null)return t===n;t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped);if(t.isEqual&&x.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&x.isFunction(n.isEqual))return n.isEqual(t);var i=f.call(t);if(i!=f.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:t==0?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if(typeof t!="object"||typeof n!="object")return!1;var s=r.length;while(s--)if(r[s]==t)return!0;r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=t.length,u=o==n.length;if(u)while(o--)if(!(u=o in t==o in n&&e(t[o],n[o],r)))break}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var a in t)if(x.has(t,a)){o++;if(!(u=x.has(n,a)&&e(t[a],n[a],r)))break}if(u){for(a in n)if(x.has(n,a)&&!(o--))break;u=!o}}return r.pop(),u}var t=this,n=t._,r={},i=Array.prototype,s=Object.prototype,o=Function.prototype,u=i.slice,a=i.unshift,f=s.toString,l=s.hasOwnProperty,c=i.forEach,h=i.map,p=i.reduce,d=i.reduceRight,v=i.filter,m=i.every,g=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,E=Object.keys,S=o.bind,x=function(e){return new P(e)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.3.3";var T=x.each=x.forEach=function(e,t,n){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(i in e&&t.call(n,e[i],i,e)===r)return}else for(var o in e)if(x.has(e,o)&&t.call(n,e[o],o,e)===r)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),e.length===+e.length&&(r.length=e.length),r)},x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=x.toArray(e).reverse();return r&&!i&&(t=x.bind(t,r)),i?x.reduce(s,t,n,r):x.reduce(s,t)},x.find=x.detect=function(e,t,n){var r;return N(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){var r=[];return e==null?r:(T(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},x.every=x.all=function(e,t,n){var i=!0;return e==null?i:m&&e.every===m?e.every(t,n):(T(e,function(e,s,o){if(!(i=i&&t.call(n,e,s,o)))return r}),!!i)};var N=x.some=x.any=function(e,t,n){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,n):(T(e,function(e,s,o){if(i||(i=t.call(n,e,s,o)))return r}),!!i)};x.include=x.contains=function(e,t){var n=!1;return e==null?n:y&&e.indexOf===y?e.indexOf(t)!=-1:(n=N(e,function(e){return e===t}),n)},x.invoke=function(e,t){var n=u.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t||e:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t=[],n;return T(e,function(e,r,i){n=Math.floor(Math.random()*(r+1)),t[r]=t[n],t[n]=e}),t},x.sortBy=function(e,t,n){var r=x.isFunction(t)?t:function(e){return e[t]};return x.pluck(x.map(e,function(e,t,i){return{value:e,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return n===void 0?1:r===void 0?-1:n<r?-1:n>r?1:0}),"value")},x.groupBy=function(e,t){var n={},r=x.isFunction(t)?t:function(e){return e[t]};return T(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},x.sortedIndex=function(e,t,n){n||(n=x.identity);var r=0,i=e.length;while(r<i){var s=r+i>>1;n(e[s])<n(t)?r=s+1:i=s}return r},x.toArray=function(e){return e?x.isArray(e)?u.call(e):x.isArguments(e)?u.call(e):e.toArray&&x.isFunction(e.toArray)?e.toArray():x.values(e):[]},x.size=function(e){return x.isArray(e)?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,function(e){return!!e})},x.flatten=function(e,t){return x.reduce(e,function(e,n){return x.isArray(n)?e.concat(t?n:x.flatten(n)):(e[e.length]=n,e)},[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n){var r=n?x.map(e,n):e,i=[];return e.length<3&&(t=!0),x.reduce(r,function(n,r,s){if(t?x.last(n)!==r||!n.length:!x.include(n,r))n.push(r),i.push(e[s]);return n},[]),i},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=x.intersect=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=x.flatten(u.call(arguments,1),!0);return x.filter(e,function(e){return!x.include(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r,i;if(n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;if(y&&e.indexOf===y)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(r in e&&e[r]===t)return r;return-1},x.lastIndexOf=function(e,t){if(e==null)return-1;if(b&&e.lastIndexOf===b)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var C=function(){};x.bind=function(e,t){var n,r;if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return r=u.call(arguments,2),n=function(){if(this instanceof n){C.prototype=e.prototype;var i=new C,s=e.apply(i,r.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,r.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o,u,a=x.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&e.apply(n,r),a()};return i||(i=setTimeout(f,t)),s?o=!0:u=e.apply(n,r),a(),s=!0,u}},x.debounce=function(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,n||e.apply(i,s)};n&&!r&&e.apply(i,s),clearTimeout(r),r=setTimeout(o,t)}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},x.wrap=function(e,t){return function(){var n=[e].concat(u.call(arguments,0));return t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){return x.map(e,x.identity)},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={};return T(x.flatten(u.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},x.defaults=function(e){return T(u.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isEqual=function(t,n){return e(t,n,[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType==1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},x.isArguments=function(e){return f.call(e)=="[object Arguments]"},x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),x.isFunction=function(e){return f.call(e)=="[object Function]"},x.isString=function(e){return f.call(e)=="[object String]"},x.isNumber=function(e){return f.call(e)=="[object Number]"},x.isFinite=function(e){return x.isNumber(e)&&isFinite(e)},x.isNaN=function(e){return e!==e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isDate=function(e){return f.call(e)=="[object Date]"},x.isRegExp=function(e){return f.call(e)=="[object RegExp]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return t._=n,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},x.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){B(t,x[t]=e[t])})};var k=0;x.uniqueId=function(e){var t=k++;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/.^/,A={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var O in A)A[A[O]]=O;var M=/\\|'|\r|\n|\t|\u2028|\u2029/g,_=/\\(\\|'|r|n|t|u2028|u2029)/g,D=function(e){return e.replace(_,function(e,t){return A[t]})};x.template=function(e,t,n){n=x.defaults(n||{},x.templateSettings);var r="__p+='"+e.replace(M,function(e){return"\\"+A[e]}).replace(n.escape||L,function(e,t){return"'+\n_.escape("+D(t)+")+\n'"}).replace(n.interpolate||L,function(e,t){return"'+\n("+D(t)+")+\n'"}).replace(n.evaluate||L,function(e,t){return"';\n"+D(t)+"\n;__p+='"})+"';\n";n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+r+"return __p;\n";var i=new Function(n.variable||"obj","_",r);if(t)return i(t,x);var s=function(e){return i.call(this,e,x)};return s.source="function("+(n.variable||"obj")+"){\n"+r+"}",s},x.chain=function(e){return x(e).chain()};var P=function(e){this._wrapped=e};x.prototype=P.prototype;var H=function(e,t){return t?x(e).chain():e},B=function(e,t){P.prototype[e]=function(){var e=u.call(arguments);return a.call(e,this._wrapped),H(t.apply(x,e),this._chain)}};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];P.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;return(e=="shift"||e=="splice")&&r===0&&delete n[0],H(n,this._chain)}}),T(["concat","join","slice"],function(e){var t=i[e];P.prototype[e]=function(){return H(t.apply(this._wrapped,arguments),this._chain)}}),P.prototype.chain=function(){return this._chain=!0,this},P.prototype.value=function(){return this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;typeof exports!="undefined"?i=exports:i=e.Backbone={},i.VERSION="0.9.2";var s=e._;!s&&typeof require!="undefined"&&(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;i.setDomLibrary=function(e){o=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var u=/\s+/,a=i.Events={on:function(e,t,n){var r,i,s,o,a;if(!t)return this;e=e.split(u),r=this._callbacks||(this._callbacks={});while(i=e.shift())a=r[i],s=a?a.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:a?a.next:s};return this},off:function(e,t,n){var r,i,o,a,f,l;if(!(i=this._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(u):s.keys(i);while(r=e.shift()){o=i[r],delete i[r];if(!o||!t&&!n)continue;a=o.tail;while((o=o.next)!==a)f=o.callback,l=o.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,r,i,s,o,a,f;if(!(i=this._callbacks))return this;a=i.all,e=e.split(u),f=n.call(arguments,1);while(t=e.shift()){if(r=i[t]){s=r.tail;while((r=r.next)!==s)r.callback.apply(r.context||this,f)}if(r=a){s=r.tail,o=[t].concat(f);while((r=r.next)!==s)r.callback.apply(r.context||this,o)}}return this}};a.bind=a.on,a.unbind=a.off;var f=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=C(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(f.prototype,a,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof f&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},a=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){o=r[i];if(!s.isEqual(a[i],o)||n.unset&&s.has(a,i))delete l[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete a[i]:a[i]=o,!s.isEqual(c[i],o)||s.has(a,i)!=s.has(c,i)?(this.changed[i]=o,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}var u=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var o=a.parse(e,i);n.wait&&(delete n.wait,o=s.extend(r||{},o));if(!a.set(o,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=i.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||i.sync).call(this,l,this,n);return n.wait&&this.set(o,u),c},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=C(this,"urlRoot")||C(this.collection,"url")||k();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!s.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(s.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var l=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(l.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f,l={},c={},h=[];t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length;while(n--)e.splice(h[n],1);for(n=0,o=e.length;n<o;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=o,i=t.at!=null?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,o=this.models.length;n<o;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){o=this.getByCid(e[n])||this.get(e[n]);if(!o)continue;delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof f)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(c,function(e){l.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var h=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,d=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(h.prototype,a,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new m),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);n&&n.apply(this,s),this.trigger.apply(this,["route:"+t].concat(s)),i.history.trigger("route",this,t,s)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(d,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},g=/^[#\/]/,y=/msie [\w.]+/;m.started=!1,s.extend(m.prototype,a,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(g,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started");m.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,u=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&u&&i.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!m.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(g,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];s.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o(r).attr(t),n&&o(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o?e:o(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=C(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(w),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,o===""?this.$el.bind(i,n):this.$el.delegate(o,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=E.length;t<n;t++){var r=E[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=C(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var S=function(e,t){var n=N(this,e,t);return n.extend=this.extend,n};f.extend=l.extend=h.extend=b.extend=S;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=x[e];n||(n={});var u={type:r,dataType:"json"};return n.url||(u.url=C(t,"url")||k()),!n.data&&t&&(e=="create"||e=="update")&&(u.contentType="application/json",u.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),i.emulateHTTP&&(r==="PUT"||r==="DELETE")&&(i.emulateJSON&&(u.data._method=r),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),u.type!=="GET"&&!i.emulateJSON&&(u.processData=!1),o.ajax(s.extend(u,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var T=function(){},N=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},s.extend(r,e),T.prototype=e.prototype,r.prototype=new T,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},C=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},k=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["jquery","underscore"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),function(){function q(e,t,n){var r=(n||0)-1,i=e?e.length:0;while(++r<i)if(e[r]===t)return r;return-1}function R(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null)return e[t]?0:-1;n!="number"&&n!="string"&&(n="object");var r=n=="number"?t:i+t;return e=(e=e[n])&&e[r],n=="object"?e&&q(e,t)>-1?0:-1:e?0:-1}function U(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null)t[e]=!0;else{n!="number"&&n!="string"&&(n="object");var r=n=="number"?e:i+e,s=t[n]||(t[n]={});n=="object"?(s[r]||(s[r]=[])).push(e):s[r]=!0}}function z(e){return e.charCodeAt(0)}function W(e,t){var n=e.criteria,r=t.criteria,i=-1,s=n.length;while(++i<s){var o=n[i],u=r[i];if(o!==u){if(o>u||typeof o=="undefined")return 1;if(o<u||typeof u=="undefined")return-1}}return e.index-t.index}function X(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],s=e[n-1];if(r&&typeof r=="object"&&i&&typeof i=="object"&&s&&typeof s=="object")return!1;var o=J();o["false"]=o["null"]=o["true"]=o["undefined"]=!1;var u=J();u.array=e,u.cache=o,u.push=U;while(++t<n)u.push(e[t]);return u}function V(e){return"\\"+P[e]}function $(){return t.pop()||[]}function J(){return n.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,"undefined":!1,value:null}}function K(e){e.length=0,t.length<o&&t.push(e)}function Q(e){var t=e.cache;t&&Q(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,n.length<o&&n.push(e)}function G(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function Y(t){function Lt(e){return e&&typeof e=="object"&&!Gt(e)&&ht.call(e,"__wrapped__")?e:new At(e)}function At(e,t){this.__chain__=!!t,this.__wrapped__=e}function Mt(e){function i(){if(n){var e=G(n);pt.apply(e,arguments)}if(this instanceof i){var s=Dt(t.prototype),o=t.apply(s,e||arguments);return Cn(o)?o:s}return t.apply(r,e||arguments)}var t=e[0],n=e[2],r=e[4];return $t(i,e),i}function _t(e,t,n,r,i){if(n){var s=n(e);if(typeof s!="undefined")return s}var o=Cn(e);if(!o)return e;var u=st.call(e);if(!O[u])return e;var a=kt[u];switch(u){case x:case T:return new a(+e);case C:case A:return new a(e);case L:return s=a(e.source,h.exec(e)),s.lastIndex=e.lastIndex,s}var f=Gt(e);if(t){var l=!r;r||(r=$()),i||(i=$());var c=r.length;while(c--)if(r[c]==e)return i[c];s=f?a(e.length):{}}else s=f?G(e):sn({},e);return f&&(ht.call(e,"index")&&(s.index=e.index),ht.call(e,"input")&&(s.input=e.input)),t?(r.push(e),i.push(s),(f?Jn:dn)(e,function(e,o){s[o]=_t(e,t,n,r,i)}),l&&(K(r),K(i)),s):s}function Dt(e,t){return Cn(e)?yt(e):{}}function Pt(e,t,n){if(typeof e!="function")return Zr;if(typeof t!="undefined"&&"prototype"in e){var r=e.__bindData__;if(typeof r=="undefined"){Ot.funcNames&&(r=!e.name),r=r||!Ot.funcDecomp;if(!r){var i=lt.call(e);Ot.funcNames||(r=!p.test(i)),r||(r=g.test(i),$t(e,r))}}if(r===!1||r!==!0&&r[1]&1)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return Br(e,t)}return e}function Ht(e){function h(){var e=u?s:this;if(r){var p=G(r);pt.apply(p,arguments)}if(i||f){p||(p=G(arguments)),i&&pt.apply(p,i);if(f&&p.length<o)return n|=16,Ht([t,l?n:n&-4,p,null,s,o])}p||(p=arguments),a&&(t=e[c]);if(this instanceof h){e=Dt(t.prototype);var d=t.apply(e,p);return Cn(d)?d:e}return t.apply(e,p)}var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],u=n&1,a=n&2,f=n&4,l=n&8,c=t;return $t(h,e),h}function Bt(e,t){var n=-1,r=Xt(),i=e?e.length:0,o=i>=s&&r===q,u=[];if(o){var a=X(t);a?(r=R,t=a):o=!1}while(++n<i){var f=e[n];r(t,f)<0&&u.push(f)}return o&&Q(t),u}function jt(e,t,n,r){var i=(r||0)-1,s=e?e.length:0,o=[];while(++i<s){var u=e[i];if(u&&typeof u=="object"&&typeof u.length=="number"&&(Gt(u)||Qt(u))){t||(u=jt(u,t,n));var a=-1,f=u.length,l=o.length;o.length+=f;while(++a<f)o[l++]=u[a]}else n||o.push(u)}return o}function Ft(e,t,n,r,i,s){if(n){var o=n(e,t);if(typeof o!="undefined")return!!o}if(e===t)return e!==0||1/e==1/t;var u=typeof e,a=typeof t;if(e===e&&(!e||!D[u])&&(!t||!D[a]))return!1;if(e==null||t==null)return e===t;var f=st.call(e),l=st.call(t);f==E&&(f=k),l==E&&(l=k);if(f!=l)return!1;switch(f){case x:case T:return+e==+t;case C:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case L:case A:return e==et(t)}var c=f==S;if(!c){var h=ht.call(e,"__wrapped__"),p=ht.call(t,"__wrapped__");if(h||p)return Ft(h?e.__wrapped__:e,p?t.__wrapped__:t,n,r,i,s);if(f!=k)return!1;var d=e.constructor,v=t.constructor;if(d!=v&&!(Nn(d)&&d instanceof d&&Nn(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var m=!i;i||(i=$()),s||(s=$());var g=i.length;while(g--)if(i[g]==e)return s[g]==t;var y=0;o=!0,i.push(e),s.push(t);if(c){g=e.length,y=t.length,o=y==g;if(o||r)while(y--){var b=g,w=t[y];if(r){while(b--)if(o=Ft(e[b],w,n,r,i,s))break}else if(!(o=Ft(e[y],w,n,r,i,s)))break}}else hn(t,function(t,u,a){if(ht.call(a,u))return y++,o=ht.call(e,u)&&Ft(e[u],t,n,r,i,s)}),o&&!r&&hn(e,function(e,t,n){if(ht.call(n,t))return o=--y>-1});return i.pop(),s.pop(),m&&(K(i),K(s)),o}function It(e,t,n,r,i){(Gt(t)?Jn:dn)(t,function(t,s){var o,u,a=t,f=e[s];if(t&&((u=Gt(t))||On(t))){var l=r.length;while(l--)if(o=r[l]==t){f=i[l];break}if(!o){var c;if(n){a=n(f,t);if(c=typeof a!="undefined")f=a}c||(f=u?Gt(f)?f:[]:On(f)?f:{}),r.push(t),i.push(f),c||It(f,t,n,r,i)}}else n&&(a=n(f,t),typeof a=="undefined"&&(a=t)),typeof a!="undefined"&&(f=a);e[s]=f})}function qt(e,t){return e+ft(Ct()*(t-e+1))}function Rt(e,t,n){var r=-1,i=Xt(),o=e?e.length:0,u=[],a=!t&&o>=s&&i===q,f=n||a?$():u;if(a){var l=X(f);i=R,f=l}while(++r<o){var c=e[r],h=n?n(c,r,e):c;if(t?!r||f[f.length-1]!==h:i(f,h)<0)(n||a)&&f.push(h),u.push(c)}return a?(K(f.array),Q(f)):n&&K(f),u}function Ut(e){return function(t,n,r){var i={};n=Lt.createCallback(n,r,3);var s=-1,o=t?t.length:0;if(typeof o=="number")while(++s<o){var u=t[s];e(i,u,n(u,s,t),t)}else dn(t,function(t,r,s){e(i,t,n(t,r,s),s)});return i}}function zt(e,t,n,r,i,s){var o=t&1,u=t&2,a=t&4,f=t&8,l=t&16,c=t&32;if(!u&&!Nn(e))throw new tt;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=G(h),h[2]&&(h[2]=G(h[2])),h[3]&&(h[3]=G(h[3])),o&&!(h[1]&1)&&(h[4]=i),!o&&h[1]&1&&(t|=8),a&&!(h[1]&4)&&(h[5]=s),l&&pt.apply(h[2]||(h[2]=[]),n),c&&mt.apply(h[3]||(h[3]=[]),r),h[1]|=t,zt.apply(null,h);var p=t==1||t===17?Mt:Ht;return p([e,t,n,r,i,s])}function Wt(e){return en[e]}function Xt(){var e=(e=Lt.indexOf)===br?q:e;return e}function Vt(e){return typeof e=="function"&&ot.test(e)}function Jt(e){var t,n;return!!e&&st.call(e)==k&&(t=e.constructor,!Nn(t)||t instanceof t)?(hn(e,function(e,t){n=t}),typeof n=="undefined"||ht.call(e,n)):!1}function Kt(e){return tn[e]}function Qt(e){return e&&typeof e=="object"&&typeof e.length=="number"&&st.call(e)==E||!1}function on(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=t,t=!1),_t(e,t,typeof n=="function"&&Pt(n,r,1))}function un(e,t,n){return _t(e,!0,typeof t=="function"&&Pt(t,n,1))}function an(e,t){var n=Dt(e);return t?sn(n,t):n}function ln(e,t,n){var r;return t=Lt.createCallback(t,n,3),dn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function cn(e,t,n){var r;return t=Lt.createCallback(t,n,3),vn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function pn(e,t,n){var r=[];hn(e,function(e,t){r.push(t,e)});var i=r.length;t=Pt(t,n,3);while(i--)if(t(r[i--],r[i],e)===!1)break;return e}function vn(e,t,n){var r=Zt(e),i=r.length;t=Pt(t,n,3);while(i--){var s=r[i];if(t(e[s],s,e)===!1)break}return e}function mn(e){var t=[];return hn(e,function(e,n){Nn(e)&&t.push(n)}),t.sort()}function gn(e,t){return e?ht.call(e,t):!1}function yn(e){var t=-1,n=Zt(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function bn(e){return e===!0||e===!1||e&&typeof e=="object"&&st.call(e)==x||!1}function wn(e){return e&&typeof e=="object"&&st.call(e)==T||!1}function En(e){return e&&e.nodeType===1||!1}function Sn(e){var t=!0;if(!e)return t;var n=st.call(e),r=e.length;return n==S||n==A||n==E||n==k&&typeof r=="number"&&Nn(e.splice)?!r:(dn(e,function(){return t=!1}),t)}function xn(e,t,n,r){return Ft(e,t,typeof n=="function"&&Pt(n,r,2))}function Tn(e){return wt(e)&&!Et(parseFloat(e))}function Nn(e){return typeof e=="function"}function Cn(e){return!!e&&!!D[typeof e]}function kn(e){return An(e)&&e!=+e}function Ln(e){return e===null}function An(e){return typeof e=="number"||e&&typeof e=="object"&&st.call(e)==C||!1}function Mn(e){return e&&typeof e=="object"&&st.call(e)==L||!1}function _n(e){return typeof e=="string"||e&&typeof e=="object"&&st.call(e)==A||!1}function Dn(e){return typeof e=="undefined"}function Pn(e,t,n){var r={};return t=Lt.createCallback(t,n,3),dn(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Hn(e){var t=arguments,n=2;if(!Cn(e))return e;typeof t[2]!="number"&&(n=t.length);if(n>3&&typeof t[n-2]=="function")var r=Pt(t[--n-1],t[n--],2);else n>2&&typeof t[n-1]=="function"&&(r=t[--n]);var i=G(arguments,1,n),s=-1,o=$(),u=$();while(++s<n)It(e,i[s],r,o,u);return K(o),K(u),e}function Bn(e,t,n){var r={};if(typeof t!="function"){var i=[];hn(e,function(e,t){i.push(t)}),i=Bt(i,jt(arguments,!0,!1,1));var s=-1,o=i.length;while(++s<o){var u=i[s];r[u]=e[u]}}else t=Lt.createCallback(t,n,3),hn(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function jn(e){var t=-1,r=Zt(e),i=r.length,s=n(i);while(++t<i){var o=r[t];s[t]=[o,e[o]]}return s}function Fn(e,t,n){var r={};if(typeof t!="function"){var i=-1,s=jt(arguments,!0,!1,1),o=Cn(e)?s.length:0;while(++i<o){var u=s[i];u in e&&(r[u]=e[u])}}else t=Lt.createCallback(t,n,3),hn(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function In(e,t,n,r){var i=Gt(e);if(n==null)if(i)n=[];else{var s=e&&e.constructor,o=s&&s.prototype;n=Dt(o)}return t&&(t=Lt.createCallback(t,r,4),(i?Jn:dn)(e,function(e,r,i){return t(n,e,r,i)})),n}function qn(e){var t=-1,r=Zt(e),i=r.length,s=n(i);while(++t<i)s[t]=e[r[t]];return s}function Rn(e){var t=arguments,r=-1,i=jt(t,!0,!1,1),s=t[2]&&t[2][t[1]]===e?1:i.length,o=n(s);while(++r<s)o[r]=e[i[r]];return o}function Un(e,t,n){var r=-1,i=Xt(),s=e?e.length:0,o=!1;return n=(n<0?xt(0,s+n):n)||0,Gt(e)?o=i(e,t,n)>-1:typeof s=="number"?o=(_n(e)?e.indexOf(t,n):i(e,t,n))>-1:dn(e,function(e){if(++r>=n)return!(o=e===t)}),o}function Wn(e,t,n){var r=!0;t=Lt.createCallback(t,n,3);var i=-1,s=e?e.length:0;if(typeof s=="number"){while(++i<s)if(!(r=!!t(e[i],i,e)))break}else dn(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Xn(e,t,n){var r=[];t=Lt.createCallback(t,n,3);var i=-1,s=e?e.length:0;if(typeof s=="number")while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}else dn(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Vn(e,t,n){t=Lt.createCallback(t,n,3);var r=-1,i=e?e.length:0;if(typeof i!="number"){var o;return dn(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o}while(++r<i){var s=e[r];if(t(s,r,e))return s}}function $n(e,t,n){var r;return t=Lt.createCallback(t,n,3),Kn(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function Jn(e,t,n){var r=-1,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Pt(t,n,3);if(typeof i=="number"){while(++r<i)if(t(e[r],r,e)===!1)break}else dn(e,t);return e}function Kn(e,t,n){var r=e?e.length:0;t=t&&typeof n=="undefined"?t:Pt(t,n,3);if(typeof r=="number"){while(r--)if(t(e[r],r,e)===!1)break}else{var i=Zt(e);r=i.length,dn(e,function(e,n,s){return n=i?i[--r]:--r,t(s[n],n,s)})}return e}function Yn(e,t){var r=G(arguments,2),i=-1,s=typeof t=="function",o=e?e.length:0,u=n(typeof o=="number"?o:0);return Jn(e,function(e){u[++i]=(s?t:e[t]).apply(e,r)}),u}function Zn(e,t,r){var i=-1,s=e?e.length:0;t=Lt.createCallback(t,r,3);if(typeof s=="number"){var o=n(s);while(++i<s)o[i]=t(e[i],i,e)}else o=[],dn(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function er(e,t,n){var r=-Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&Gt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u>i&&(i=u)}}else t=t==null&&_n(e)?z:Lt.createCallback(t,n,3),Jn(e,function(e,n,s){var o=t(e,n,s);o>r&&(r=o,i=e)});return i}function tr(e,t,n){var r=Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&Gt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u<i&&(i=u)}}else t=t==null&&_n(e)?z:Lt.createCallback(t,n,3),Jn(e,function(e,n,s){var o=t(e,n,s);o<r&&(r=o,i=e)});return i}function rr(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=Lt.createCallback(t,r,4);var s=-1,o=e.length;if(typeof o=="number"){i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else dn(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function ir(e,t,n,r){var i=arguments.length<3;return t=Lt.createCallback(t,r,4),Kn(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function sr(e,t,n){return t=Lt.createCallback(t,n,3),Xn(e,function(e,n,r){return!t(e,n,r)})}function or(t,n,r){t&&typeof t.length!="number"&&(t=qn(t));if(n==null||r)return t?t[qt(0,t.length-1)]:e;var i=ur(t);return i.length=Tt(xt(0,n),i.length),i}function ur(e){var t=-1,r=e?e.length:0,i=n(typeof r=="number"?r:0);return Jn(e,function(e){var n=qt(0,++t);i[t]=i[n],i[n]=e}),i}function ar(e){var t=e?e.length:0;return typeof t=="number"?t:Zt(e).length}function fr(e,t,n){var r;t=Lt.createCallback(t,n,3);var i=-1,s=e?e.length:0;if(typeof s=="number"){while(++i<s)if(r=t(e[i],i,e))break}else dn(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function lr(e,t,r){var i=-1,s=Gt(t),o=e?e.length:0,u=n(typeof o=="number"?o:0);s||(t=Lt.createCallback(t,r,3)),Jn(e,function(e,n,r){var o=u[++i]=J();s?o.criteria=Zn(t,function(t){return e[t]}):(o.criteria=$())[0]=t(e,n,r),o.index=i,o.value=e}),o=u.length,u.sort(W);while(o--){var a=u[o];u[o]=a.value,s||K(a.criteria),Q(a)}return u}function cr(e){return e&&typeof e.length=="number"?G(e):qn(e)}function pr(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function dr(e){return Bt(e,jt(arguments,!0,!0,1))}function vr(e,t,n){var r=-1,i=e?e.length:0;t=Lt.createCallback(t,n,3);while(++r<i)if(t(e[r],r,e))return r;return-1}function mr(e,t,n){var r=e?e.length:0;t=Lt.createCallback(t,n,3);while(r--)if(t(e[r],r,e))return r;return-1}function gr(t,n,r){var i=0,s=t?t.length:0;if(typeof n!="number"&&n!=null){var o=-1;n=Lt.createCallback(n,r,3);while(++o<s&&n(t[o],o,t))i++}else{i=n;if(i==null||r)return t?t[0]:e}return G(t,0,Tt(xt(0,i),s))}function yr(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(e=Zn(e,n,r)),jt(e,t)}function br(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?xt(0,r+n):n||0}else if(n){var i=Lr(e,t);return e[i]===t?i:-1}return q(e,t,n)}function wr(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&t!=null){var s=i;t=Lt.createCallback(t,n,3);while(s--&&t(e[s],s,e))r++}else r=t==null||n?1:t||r;return G(e,0,Tt(xt(0,i-r),i))}function Er(){var e=[],t=-1,n=arguments.length,r=$(),i=Xt(),o=i===q,u=$();while(++t<n){var a=arguments[t];if(Gt(a)||Qt(a))e.push(a),r.push(o&&a.length>=s&&X(t?e[t]:u))}var f=e[0],l=-1,c=f?f.length:0,h=[];e:while(++l<c){var p=r[0];a=f[l];if((p?R(p,a):i(u,a))<0){t=n,(p||u).push(a);while(--t){p=r[t];if((p?R(p,a):i(e[t],a))<0)continue e}h.push(a)}}while(n--)p=r[n],p&&Q(p);return K(r),K(u),h}function Sr(t,n,r){var i=0,s=t?t.length:0;if(typeof n!="number"&&n!=null){var o=s;n=Lt.createCallback(n,r,3);while(o--&&n(t[o],o,t))i++}else{i=n;if(i==null||r)return t?t[s-1]:e}return G(t,xt(0,s-i))}function xr(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?xt(0,r+n):Tt(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Tr(e){var t=arguments,n=0,r=t.length,i=e?e.length:0;while(++n<r){var s=-1,o=t[n];while(++s<i)e[s]===o&&(vt.call(e,s--,1),i--)}return e}function Nr(e,t,r){e=+e||0,r=typeof r=="number"?r:+r||1,t==null&&(t=e,e=0);var i=-1,s=xt(0,ut((t-e)/(r||1))),o=n(s);while(++i<s)o[i]=e,e+=r;return o}function Cr(e,t,n){var r=-1,i=e?e.length:0,s=[];t=Lt.createCallback(t,n,3);while(++r<i){var o=e[r];t(o,r,e)&&(s.push(o),vt.call(e,r--,1),i--)}return s}function kr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=Lt.createCallback(t,n,3);while(++i<s&&t(e[i],i,e))r++}else r=t==null||n?1:xt(0,t);return G(e,r)}function Lr(e,t,n,r){var i=0,s=e?e.length:i;n=n?Lt.createCallback(n,r,1):Zr,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function Ar(){return Rt(jt(arguments,!0,!0))}function Or(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(n=Lt.createCallback(n,r,3)),Rt(e,t,n)}function Mr(e){return Bt(e,G(arguments,1))}function _r(){var e=-1,t=arguments.length;while(++e<t){var n=arguments[e];if(Gt(n)||Qt(n))var r=r?Rt(Bt(r,n).concat(Bt(n,r))):n}return r||[]}function Dr(){var e=arguments.length>1?arguments:arguments[0],t=-1,r=e?er(nr(e,"length")):0,i=n(r<0?0:r);while(++t<r)i[t]=nr(e,t);return i}function Pr(e,t){var n=-1,r=e?e.length:0,i={};!t&&r&&!Gt(e[0])&&(t=[]);while(++n<r){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i}function Hr(e,t){if(!Nn(t))throw new tt;return function(){if(--e<1)return t.apply(this,arguments)}}function Br(e,t){return arguments.length>2?zt(e,17,G(arguments,2),null,t):zt(e,1,null,null,t)}function jr(e){var t=arguments.length>1?jt(arguments,!0,!1,1):mn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=zt(e[i],1,null,null,e)}return e}function Fr(e,t){return arguments.length>2?zt(t,19,G(arguments,2),null,e):zt(t,3,null,null,e)}function Ir(){var e=arguments,t=e.length;while(t--)if(!Nn(e[t]))throw new tt;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function qr(e,t){return t=typeof t=="number"?t:+t||e.length,zt(e,4,null,null,null,t)}function Rr(t,n,r){var i,s,o,u,a,f,l,c=0,h=!1,p=!0;if(!Nn(t))throw new tt;n=xt(0,n)||0;if(r===!0){var d=!0;p=!1}else Cn(r)&&(d=r.leading,h="maxWait"in r&&(xt(n,r.maxWait)||0),p="trailing"in r?r.trailing:p);var v=function(){var r=n-(ri()-u);if(r<=0){s&&at(s);var h=l;s=f=l=e,h&&(c=ri(),o=t.apply(a,i),!f&&!s&&(i=a=null))}else f=dt(v,r)},m=function(){f&&at(f),s=f=l=e;if(p||h!==n)c=ri(),o=t.apply(a,i),!f&&!s&&(i=a=null)};return function(){i=arguments,u=ri(),a=this,l=p&&(f||!d);if(h===!1)var e=d&&!f;else{!s&&!d&&(c=u);var r=h-(u-c),g=r<=0;g?(s&&(s=at(s)),c=u,o=t.apply(a,i)):s||(s=dt(m,r))}return g&&f?f=at(f):!f&&n!==h&&(f=dt(v,n)),e&&(g=!0,o=t.apply(a,i)),g&&!f&&!s&&(i=a=null),o}}function Ur(t){if(!Nn(t))throw new tt;var n=G(arguments,1);return dt(function(){t.apply(e,n)},1)}function zr(t,n){if(!Nn(t))throw new tt;var r=G(arguments,2);return dt(function(){t.apply(e,r)},n)}function Wr(e,t){if(!Nn(e))throw new tt;var n=function(){var r=n.cache,s=t?t.apply(this,arguments):i+arguments[0];return ht.call(r,s)?r[s]:r[s]=e.apply(this,arguments)};return n.cache={},n}function Xr(e){var t,n;if(!Nn(e))throw new tt;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Vr(e){return zt(e,16,G(arguments,1))}function $r(e){return zt(e,32,null,G(arguments,1))}function Jr(e,t,n){var r=!0,i=!0;if(!Nn(e))throw new tt;return n===!1?r=!1:Cn(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),M.leading=r,M.maxWait=t,M.trailing=i,Rr(e,t,M)}function Kr(e,t){return zt(t,16,[e])}function Qr(e){return function(){return e}}function Gr(e,t,n){var r=typeof e;if(e==null||r=="function")return Pt(e,t,n);if(r!="object")return si(e);var i=Zt(e),s=i[0],o=e[s];return i.length==1&&o===o&&!Cn(o)?function(e){var t=e[s];return o===t&&(o!==0||1/o==1/t)}:function(t){var n=i.length,r=!1;while(n--)if(!(r=Ft(t[i[n]],e[i[n]],null,!0)))break;return r}}function Yr(e){return e==null?"":et(e).replace(rn,Wt)}function Zr(e){return e}function ei(e,t,n){var r=!0,i=t&&mn(t);if(!t||!n&&!i.length)n==null&&(n=t),s=At,t=e,e=Lt,i=mn(t);n===!1?r=!1:Cn(n)&&"chain"in n&&(r=n.chain);var s=e,o=Nn(s);Jn(i,function(n){var i=e[n]=t[n];o&&(s.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,o=[n];pt.apply(o,arguments);var u=i.apply(e,o);if(r||t){if(n===u&&Cn(u))return this;u=new s(u),u.__chain__=t}return u})})}function ti(){return t._=it,this}function ni(){}function si(e){return function(t){return t[e]}}function oi(e,t,n){var r=e==null,i=t==null;n==null&&(typeof e=="boolean"&&i?(n=e,e=1):!i&&typeof t=="boolean"&&(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0;if(n||e%1||t%1){var s=Ct();return Tt(e+s*(t-e+parseFloat("1e-"+((s+"").length-1))),t)}return qt(e,t)}function ui(e,t){if(e){var n=e[t];return Nn(n)?e[t]():n}}function ai(t,n,r){var i=Lt.templateSettings;t=et(t||""),r=fn({},r,i);var s=fn({},r.imports,i.imports),o=Zt(s),u=qn(s),h,p=0,v=r.interpolate||m,g="__p += '",b=U((r.escape||m).source+"|"+v.source+"|"+(v===d?c:m).source+"|"+(r.evaluate||m).source+"|$","g");t.replace(b,function(e,n,r,i,s,o){return r||(r=i),g+=t.slice(p,o).replace(y,V),n&&(g+="' +\n__e("+n+") +\n'"),s&&(h=!0,g+="';\n"+s+";\n__p += '"),r&&(g+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=o+e.length,e}),g+="';\n";var E=r.variable,S=E;S||(E="obj",g="with ("+E+") {\n"+g+"\n}\n"),g=(h?g.replace(a,""):g).replace(f,"$1").replace(l,"$1;"),g="function("+E+") {\n"+(S?"":E+" || ("+E+" = {});\n")+"var __t, __p = '', __e = _.escape"+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+g+"return __p\n}";var x="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+w++ +"]")+"\n*/";try{var T=B(o,"return "+g+x).apply(e,u)}catch(N){throw N.source=g,N}return n?T(n):(T.source=g,T)}function fi(e,t,r){e=(e=+e)>-1?e:0;var i=-1,s=n(e);t=Pt(t,r,1);while(++i<e)s[i]=t(i);return s}function li(e){return e==null?"":et(e).replace(nn,Kt)}function ci(e){var t=++r;return et(e==null?"":e)+t}function hi(e){return e=new At(e),e.__chain__=!0,e}function pi(e,t){return t(e),e}function di(){return this.__chain__=!0,this}function vi(){return et(this.__wrapped__)}function mi(){return this.__wrapped__}t=t?Z.defaults(H.Object(),t,Z.pick(H,b)):H;var n=t.Array,o=t.Boolean,P=t.Date,B=t.Function,j=t.Math,F=t.Number,I=t.Object,U=t.RegExp,et=t.String,tt=t.TypeError,nt=[],rt=I.prototype,it=t._,st=rt.toString,ot=U("^"+et(st).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ut=j.ceil,at=t.clearTimeout,ft=j.floor,lt=B.prototype.toString,ct=Vt(ct=I.getPrototypeOf)&&ct,ht=rt.hasOwnProperty,pt=nt.push,dt=t.setTimeout,vt=nt.splice,mt=nt.unshift,gt=function(){try{var e={},t=Vt(t=I.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),yt=Vt(yt=I.create)&&yt,bt=Vt(bt=n.isArray)&&bt,wt=t.isFinite,Et=t.isNaN,St=Vt(St=I.keys)&&St,xt=j.max,Tt=j.min,Nt=t.parseInt,Ct=j.random,kt={};kt[S]=n,kt[x]=o,kt[T]=P,kt[N]=B,kt[k]=I,kt[C]=F,kt[L]=U,kt[A]=et,At.prototype=Lt.prototype;var Ot=Lt.support={};Ot.funcDecomp=!Vt(t.WinRTError)&&g.test(Y),Ot.funcNames=typeof B.name=="string",Lt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:d,variable:"",imports:{_:Lt}},yt||(Dt=function(){function e(){}return function(n){if(Cn(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}());var $t=gt?function(e,t){_.value=t,gt(e,"__bindData__",_)}:ni,Gt=bt||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&st.call(e)==S||!1},Yt=function(e){var t,n=e,r=[];if(!n)return r;if(!D[typeof e])return r;for(t in n)ht.call(n,t)&&r.push(t);return r},Zt=St?function(e){return Cn(e)?St(e):[]}:Yt,en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn=yn(en),nn=U("("+Zt(tn).join("|")+")","g"),rn=U("["+Zt(en).join("")+"]","g"),sn=function(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;if(a>3&&typeof o[a-2]=="function")var f=Pt(o[--a-1],o[a--],2);else a>2&&typeof o[a-1]=="function"&&(f=o[--a]);while(++u<a){i=o[u];if(i&&D[typeof i]){var l=-1,c=D[typeof i]&&Zt(i),h=c?c.length:0;while(++l<h)r=c[l],s[r]=f?f(s[r],i[r]):i[r]}}return s},fn=function(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;while(++u<a){i=o[u];if(i&&D[typeof i]){var f=-1,l=D[typeof i]&&Zt(i),c=l?l.length:0;while(++f<c)r=l[f],typeof s[r]=="undefined"&&(s[r]=i[r])}}return s},hn=function(e,t,n){var r,i=e,s=i;if(!i)return s;if(!D[typeof i])return s;t=t&&typeof n=="undefined"?t:Pt(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return s;return s},dn=function(e,t,n){var r,i=e,s=i;if(!i)return s;if(!D[typeof i])return s;t=t&&typeof n=="undefined"?t:Pt(t,n,3);var o=-1,u=D[typeof i]&&Zt(i),a=u?u.length:0;while(++o<a){r=u[o];if(t(i[r],r,e)===!1)return s}return s},On=ct?function(e){if(!e||st.call(e)!=k)return!1;var t=e.valueOf,n=Vt(t)&&(n=ct(t))&&ct(n);return n?e==n||ct(e)==n:Jt(e)}:Jt,zn=Ut(function(e,t,n){ht.call(e,n)?e[n]++:e[n]=1}),Qn=Ut(function(e,t,n){(ht.call(e,n)?e[n]:e[n]=[]).push(t)}),Gn=Ut(function(e,t,n){e[n]=t}),nr=Zn,hr=Xn,ri=Vt(ri=P.now)&&ri||function(){return(new P).getTime()},ii=Nt(u+"08")==8?Nt:function(e,t){return Nt(_n(e)?e.replace(v,""):e,t||0)};return Lt.after=Hr,Lt.assign=sn,Lt.at=Rn,Lt.bind=Br,Lt.bindAll=jr,Lt.bindKey=Fr,Lt.chain=hi,Lt.compact=pr,Lt.compose=Ir,Lt.constant=Qr,Lt.countBy=zn,Lt.create=an,Lt.createCallback=Gr,Lt.curry=qr,Lt.debounce=Rr,Lt.defaults=fn,Lt.defer=Ur,Lt.delay=zr,Lt.difference=dr,Lt.filter=Xn,Lt.flatten=yr,Lt.forEach=Jn,Lt.forEachRight=Kn,Lt.forIn=hn,Lt.forInRight=pn,Lt.forOwn=dn,Lt.forOwnRight=vn,Lt.functions=mn,Lt.groupBy=Qn,Lt.indexBy=Gn,Lt.initial=wr,Lt.intersection=Er,Lt.invert=yn,Lt.invoke=Yn,Lt.keys=Zt,Lt.map=Zn,Lt.mapValues=Pn,Lt.max=er,Lt.memoize=Wr,Lt.merge=Hn,Lt.min=tr,Lt.omit=Bn,Lt.once=Xr,Lt.pairs=jn,Lt.partial=Vr,Lt.partialRight=$r,Lt.pick=Fn,Lt.pluck=nr,Lt.property=si,Lt.pull=Tr,Lt.range=Nr,Lt.reject=sr,Lt.remove=Cr,Lt.rest=kr,Lt.shuffle=ur,Lt.sortBy=lr,Lt.tap=pi,Lt.throttle=Jr,Lt.times=fi,Lt.toArray=cr,Lt.transform=In,Lt.union=Ar,Lt.uniq=Or,Lt.values=qn,Lt.where=hr,Lt.without=Mr,Lt.wrap=Kr,Lt.xor=_r,Lt.zip=Dr,Lt.zipObject=Pr,Lt.collect=Zn,Lt.drop=kr,Lt.each=Jn,Lt.eachRight=Kn,Lt.extend=sn,Lt.methods=mn,Lt.object=Pr,Lt.select=Xn,Lt.tail=kr,Lt.unique=Or,Lt.unzip=Dr,ei(Lt),Lt.clone=on,Lt.cloneDeep=un,Lt.contains=Un,Lt.escape=Yr,Lt.every=Wn,Lt.find=Vn,Lt.findIndex=vr,Lt.findKey=ln,Lt.findLast=$n,Lt.findLastIndex=mr,Lt.findLastKey=cn,Lt.has=gn,Lt.identity=Zr,Lt.indexOf=br,Lt.isArguments=Qt,Lt.isArray=Gt,Lt.isBoolean=bn,Lt.isDate=wn,Lt.isElement=En,Lt.isEmpty=Sn,Lt.isEqual=xn,Lt.isFinite=Tn,Lt.isFunction=Nn,Lt.isNaN=kn,Lt.isNull=Ln,Lt.isNumber=An,Lt.isObject=Cn,Lt.isPlainObject=On,Lt.isRegExp=Mn,Lt.isString=_n,Lt.isUndefined=Dn,Lt.lastIndexOf=xr,Lt.mixin=ei,Lt.noConflict=ti,Lt.noop=ni,Lt.now=ri,Lt.parseInt=ii,Lt.random=oi,Lt.reduce=rr,Lt.reduceRight=ir,Lt.result=ui,Lt.runInContext=Y,Lt.size=ar,Lt.some=fr,Lt.sortedIndex=Lr,Lt.template=ai,Lt.unescape=li,Lt.uniqueId=ci,Lt.all=Wn,Lt.any=fr,Lt.detect=Vn,Lt.findWhere=Vn,Lt.foldl=rr,Lt.foldr=ir,Lt.include=Un,Lt.inject=rr,ei(function(){var e={};return dn(Lt,function(t,n){Lt.prototype[n]||(e[n]=t)}),e}(),!1),Lt.first=gr,Lt.last=Sr,Lt.sample=or,Lt.take=gr,Lt.head=gr,dn(Lt,function(e,t){var n=t!=="sample";Lt.prototype[t]||(Lt.prototype[t]=function(t,r){var i=this.__chain__,s=e(this.__wrapped__,t,r);return!i&&(t==null||r&&(!n||typeof t!="function"))?s:new At(s,i)})}),Lt.VERSION="2.4.1",Lt.prototype.chain=di,Lt.prototype.toString=vi,Lt.prototype.value=mi,Lt.prototype.valueOf=mi,Jn(["join","pop","shift"],function(e){var t=nt[e];Lt.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new At(n,e):n}}),Jn(["push","reverse","sort","unshift"],function(e){var t=nt[e];Lt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Jn(["concat","slice","splice"],function(e){var t=nt[e];Lt.prototype[e]=function(){return new At(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Lt}var e,t=[],n=[],r=0,i=+(new Date)+"",s=75,o=40,u=" 	\f\n\r\u2028\u2029",a=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,l=/(__e\(.*?\)|\b__t\)) \+\n'';/g,c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,h=/\w*$/,p=/^\s*function[ \n\r\t]+\w/,d=/<%=([\s\S]+?)%>/g,v=RegExp("^["+u+"]*0+(?=.$)"),m=/($^)/,g=/\bthis\b/,y=/['\n\r\t\u2028\u2029\\]/g,b=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],w=0,E="[object Arguments]",S="[object Array]",x="[object Boolean]",T="[object Date]",N="[object Function]",C="[object Number]",k="[object Object]",L="[object RegExp]",A="[object String]",O={};O[N]=!1,O[E]=O[S]=O[x]=O[T]=O[C]=O[k]=O[L]=O[A]=!0;var M={leading:!1,maxWait:0,trailing:!1},_={configurable:!1,enumerable:!1,value:null,writable:!1},D={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},P={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},H=D[typeof window]&&window||this,B=D[typeof exports]&&exports&&!exports.nodeType&&exports,j=D[typeof module]&&module&&!module.nodeType&&module,F=j&&j.exports===B&&B,I=D[typeof global]&&global;I&&(I.global===I||I.window===I)&&(H=I);var Z=Y();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(H._=Z,define("lodash",[],function(){return Z})):B&&j?F?(j.exports=Z)._=Z:B._=Z:H._=Z}.call(this),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s=typeof n=="object"&&n;i||r.data("bs.affix",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.2.0",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=e(document).height(),r=this.$target.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;typeof s!="object"&&(u=o=s),typeof o=="function"&&(o=s.top(this.$element)),typeof u=="function"&&(u=s.bottom(this.$element));var a=this.unpin!=null&&r+this.unpin<=i.top?!1:u!=null&&i.top+this.$element.height()>=n-u?"bottom":o!=null&&r<=o?"top":!1;if(this.affixed===a)return;this.unpin!=null&&this.$element.css("top","");var f="affix"+(a?"-"+a:""),l=e.Event(f+".bs.affix");this.$element.trigger(l);if(l.isDefaultPrevented())return;this.affixed=a,this.unpin=a=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(f).trigger(e.Event(f.replace("affix","affixed"))),a=="bottom"&&this.$element.offset({top:n-this.$element.height()-u})};var r=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),r=t.data();r.offset=r.offset||{},r.offsetBottom&&(r.offset.bottom=r.offsetBottom),r.offsetTop&&(r.offset.top=r.offsetTop),n.call(t,r)})})}(jQuery),+function(e){function r(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})}var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.2.0",n.prototype.close=function(t){function s(){i.detach().trigger("closed.bs.alert").remove()}var n=e(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var i=e(r);t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",s).emulateTransitionEnd(150):s()};var i=e.fn.alert;e.fn.alert=r,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})}var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.VERSION="3.2.0",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText==null&&r.data("resetText",r[i]()),r[i](s[t]==null?this.options[t]:s[t]),setTimeout(e.proxy(function(){t=="loadingText"?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=e(t.target);r.hasClass("btn")||(r=r.closest(".btn")),n.call(r,"toggle"),t.preventDefault()})}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})}var t=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.2.0",t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.to=function(t){var n=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(this.sliding)return;return this.slide("next")},t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},t.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}if(i.hasClass("active"))return this.sliding=!1;var f=i[0],l=e.Event("slide.bs.carousel",{relatedTarget:f,direction:o});this.$element.trigger(l);if(l.isDefaultPrevented())return;this.sliding=!0,s&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=e(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:f,direction:o});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(h)},0)}).emulateTransitionEnd(r.css("transition-duration").slice(0,-1)*1e3)):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this};var r=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(!s.hasClass("carousel"))return;var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),n.call(s,o),u&&s.data("bs.carousel").to(u),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);!i&&s.toggle&&n=="show"&&(n=!n),i||r.data("bs.collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.VERSION="3.2.0",t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var t=e.Event("show.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var r=this.$parent&&this.$parent.find("> .panel > .in");if(r&&r.length){var i=r.data("bs.collapse");if(i&&i.transitioning)return;n.call(r,"hide"),i||r.data("bs.collapse",null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var u=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(350)[s](this.$element[0][u])},t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var t=e.Event("hide.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var r,i=e(this),s=i.attr("data-target")||t.preventDefault()||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),o=e(s),u=o.data("bs.collapse"),a=u?"toggle":i.data(),f=i.attr("data-parent"),l=f&&e(f);if(!u||!u.transitioning)l&&l.find('[data-toggle="collapse"][data-parent="'+f+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed");n.call(o,a)})}(jQuery),+function(e){function i(r){if(r&&r.which===3)return;e(t).remove(),e(n).each(function(){var t=s(e(this)),n={relatedTarget:this};if(!t.hasClass("open"))return;t.trigger(r=e.Event("hide.bs.dropdown",n));if(r.isDefaultPrevented())return;t.removeClass("open").trigger("hidden.bs.dropdown",n)})}function s(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function o(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})}var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n),o=r.hasClass("open");i();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var u={relatedTarget:this};r.trigger(t=e.Event("show.bs.dropdown",u));if(t.isDefaultPrevented())return;n.trigger("focus"),r.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1},r.prototype.keydown=function(t){if(!/(38|40|27)/.test(t.keyCode))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r),o=i.hasClass("open");if(!o||o&&t.keyCode==27)return t.which==27&&i.find(n).trigger("focus"),r.trigger("click");var u=" li:not(.divider):visible a",a=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(!a.length)return;var f=a.index(a.filter(":focus"));t.keyCode==38&&f>0&&f--,t.keyCode==40&&f<a.length-1&&f++,~f||(f=0),a.eq(f).trigger("focus")};var u=e.fn.dropdown;e.fn.dropdown=o,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})}var t=function(t){this.element=e(t)};t.VERSION="3.2.0",t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});t.trigger(s);if(s.isDefaultPrevented())return;var o=e(r);this.activate(t.closest("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})},t.prototype.activate=function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one("bsTransitionEnd",o).emulateTransitionEnd(150):o(),i.removeClass("in")};var r=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),n.call(e(this),"show")})}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t();if(!e.support.transition)return;e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})}(jQuery),+function(e){function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(n).is("body")?e(window):e(n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s=typeof n=="object"&&n;i||r.data("bs.scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.getScrollHeight(),n=this.options.offset+t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;this.scrollHeight!=t&&this.refresh();if(e>=n)return s!=(o=i[i.length-1])&&this.activate(o);if(s&&e<=r[0])return s!=(o=i[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){function n(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})}var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.2.0",t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)})},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(150):s()}else t&&t()},t.prototype.checkScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return;this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),n.call(s,o,this)})}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.2.0",t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin",a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,i=this.tip(),s=this.getUID(this.type);this.setContent(),i.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&i.addClass("fade");var o=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,a=u.test(o);a&&(o=o.replace(u,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var f=this.getPosition(),l=i[0].offsetWidth,c=i[0].offsetHeight;if(a){var h=o,p=this.$element.parent(),d=this.getPosition(p);o=o=="bottom"&&f.top+f.height+c-d.scroll>d.height?"top":o=="top"&&f.top-d.scroll-c<0?"bottom":o=="right"&&f.right+l>d.width?"left":o=="left"&&f.left-l<d.left?"right":o,i.removeClass(h).addClass(o)}var v=this.getCalculatedOffset(o,f,l,c);this.applyPlacement(v,o);var m=function(){r.$element.trigger("shown.bs."+r.type),r.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var a=r[0].offsetWidth,f=r[0].offsetHeight;n=="top"&&f!=s&&(t.top=t.top+s-f);var l=this.getViewportAdjustedDelta(n,t,a,f);l.left?t.left+=l.left:t.top+=l.top;var c=l.left?l.left*2-i+a:l.top*2-s+f,h=l.left?"left":"top",p=l.left?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(c,r[0][p],h)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function i(){t.hoverState!="in"&&n.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby"),this.$element.trigger(r);if(r.isDefaultPrevented())return;return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r=n.tagName=="BODY";return e.extend({},typeof n.getBoundingClientRect=="function"?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:r?e(window).width():t.outerWidth(),height:r?e(window).height():t.outerHeight()},r?{top:0,left:0}:t.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.getUID=function(e){do e+=~~(Math.random()*1e6);while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var r=e.fn.tooltip;e.fn.tooltip=n,e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){function n(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.2.0",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?typeof n=="string"?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=n,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),define("bootstrap",function(){}),function(global,module){function expect(e){return new Assertion(e)}function Assertion(e,t,n){this.obj=e,this.flags={};if(undefined!=n){this.flags[t]=!0;for(var r in n.flags)n.flags.hasOwnProperty(r)&&(this.flags[r]=!0)}var i=t?flags[t]:keys(flags),s=this;if(i)for(var r=0,o=i.length;r<o;r++){if(this.flags[i[r]])continue;var u=i[r],a=new Assertion(this.obj,u,this);if("function"==typeof Assertion.prototype[u]){var f=this[u];this[u]=function(){return f.apply(s,arguments)};for(var l in Assertion.prototype)Assertion.prototype.hasOwnProperty(l)&&l!=u&&(this[u][l]=bind(a[l],a))}else this[u]=a}}function bind(e,t){return function(){return e.apply(t,arguments)}}function every(e,t,n){var r=n||global;for(var i=0,s=e.length;i<s;++i)if(!t.call(r,e[i],i,e))return!1;return!0}function indexOf(e,t,n){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);if(e.length===undefined)return-1;for(var r=e.length,n=n<0?n+r<0?0:n+r:n||0;n<r&&e[n]!==t;n++);return r<=n?-1:n}function i(e,t,n){function i(e){return e}function s(e,n){if(e&&typeof e.inspect=="function"&&e!==exports&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(n);switch(typeof e){case"undefined":return i("undefined","undefined");case"string":var o="'"+json.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return i(o,"string");case"number":return i(""+e,"number");case"boolean":return i(""+e,"boolean")}if(e===null)return i("null","null");var u=keys(e),a=t?Object.getOwnPropertyNames(e):u;if(typeof e=="function"&&a.length===0){if(isRegExp(e))return i(""+e,"regexp");var f=e.name?": "+e.name:"";return i("[Function"+f+"]","special")}if(isDate(e)&&a.length===0)return i(e.toUTCString(),"date");var l,c,h;isArray(e)?(c="Array",h=["[","]"]):(c="Object",h=["{","}"]);if(typeof e=="function"){var p=e.name?": "+e.name:"";l=isRegExp(e)?" "+e:" [Function"+p+"]"}else l="";isDate(e)&&(l=" "+e.toUTCString());if(a.length===0)return h[0]+l+h[1];if(n<0)return isRegExp(e)?i(""+e,"regexp"):i("[Object]","special");r.push(e);var d=map(a,function(t){var o,a;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?a=i("[Getter/Setter]","special"):a=i("[Getter]","special"):e.__lookupSetter__(t)&&(a=i("[Setter]","special"))),indexOf(u,t)<0&&(o="["+t+"]"),a||(indexOf(r,e[t])<0?(n===null?a=s(e[t]):a=s(e[t],n-1),a.indexOf("\n")>-1&&(isArray(e)?a=map(a.split("\n"),function(e){return"  "+e}).join("\n").substr(2):a="\n"+map(a.split("\n"),function(e){return"   "+e}).join("\n"))):a=i("[Circular]","special"));if(typeof o=="undefined"){if(c==="Array"&&t.match(/^\d+$/))return a;o=json.stringify(""+t),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=i(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=i(o,"string"))}return o+": "+a});r.pop();var v=0,m=reduce(d,function(e,t){return v++,indexOf(t,"\n")>=0&&v++,e+t.length+1},0);return m>50?d=h[0]+(l===""?"":l+"\n ")+" "+d.join(",\n  ")+" "+h[1]:d=h[0]+l+" "+d.join(", ")+" "+h[1],d}var r=[];return s(e,typeof n=="undefined"?2:n)}function isArray(e){return Object.prototype.toString.call(e)=="[object Array]"}function isRegExp(e){var t=""+e;return e instanceof RegExp||typeof e=="function"&&e.constructor.name==="RegExp"&&e.compile&&e.test&&e.exec&&t.match(/^\/.*\/[gim]{0,3}$/)}function isDate(e){return e instanceof Date?!0:!1}function keys(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}function map(e,t,n){if(Array.prototype.map)return Array.prototype.map.call(e,t,n);var r=new Array(e.length);for(var i=0,s=e.length;i<s;i++)i in e&&(r[i]=t.call(n,e[i],i,e));return r}function reduce(e,t){if(Array.prototype.reduce)return Array.prototype.reduce.apply(e,Array.prototype.slice.call(arguments,1));var n=+this.length;if(typeof t!="function")throw new TypeError;if(n===0&&arguments.length===1)throw new TypeError;var r=0;if(arguments.length>=2)var i=arguments[1];else do{if(r in this){i=this[r++];break}if(++r>=n)throw new TypeError}while(!0);for(;r<n;r++)r in this&&(i=t.call(null,i,this[r],r,this));return i}function isUndefinedOrNull(e){return e===null||e===undefined}function isArguments(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function objEquiv(e,t){if(isUndefinedOrNull(e)||isUndefinedOrNull(t))return!1;if(e.prototype!==t.prototype)return!1;if(isArguments(e))return isArguments(t)?(e=pSlice.call(e),t=pSlice.call(t),expect.eql(e,t)):!1;try{var n=keys(e),r=keys(t),i,s}catch(o){return!1}if(n.length!=r.length)return!1;n.sort(),r.sort();for(s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--){i=n[s];if(!expect.eql(e[i],t[i]))return!1}return!0}if("undefined"==typeof module)var module={exports:{}},exports=module.exports;module.exports=expect,expect.Assertion=Assertion,expect.version="0.1.2";var flags={not:["to","be","have","include","only"],to:["be","have","include","only","not"],only:["have"],have:["own"],be:["an"]};Assertion.prototype.assert=function(e,t,n){var t=this.flags.not?n:t,r=this.flags.not?!e:e;if(!r)throw new Error(t);this.and=new Assertion(this.obj)},Assertion.prototype.ok=function(){this.assert(!!this.obj,"expected "+i(this.obj)+" to be truthy","expected "+i(this.obj)+" to be falsy")},Assertion.prototype.throwError=Assertion.prototype.throwException=function(e){expect(this.obj).to.be.a("function");var t=!1,n=this.flags.not;try{this.obj()}catch(r){if("function"==typeof e)e(r);else if("object"==typeof e){var i="string"==typeof r?r:r.message;n?expect(i).to.not.match(e):expect(i).to.match(e)}t=!0}"object"==typeof e&&n&&(this.flags.not=!1);var s=this.obj.name||"fn";this.assert(t,"expected "+s+" to throw an exception","expected "+s+" not to throw an exception")},Assertion.prototype.empty=function(){var e;return"object"==typeof this.obj&&null!==this.obj&&!isArray(this.obj)?"number"==typeof this.obj.length?e=!this.obj.length:e=!keys(this.obj).length:("string"!=typeof this.obj&&expect(this.obj).to.be.an("object"),expect(this.obj).to.have.property("length"),e=!this.obj.length),this.assert(e,"expected "+i(this.obj)+" to be empty","expected "+i(this.obj)+" to not be empty"),this},Assertion.prototype.be=Assertion.prototype.equal=function(e){return this.assert(e===this.obj,"expected "+i(this.obj)+" to equal "+i(e),"expected "+i(this.obj)+" to not equal "+i(e)),this},Assertion.prototype.eql=function(e){return this.assert(expect.eql(e,this.obj),"expected "+i(this.obj)+" to sort of equal "+i(e),"expected "+i(this.obj)+" to sort of not equal "+i(e)),this},Assertion.prototype.within=function(e,t){var n=e+".."+t;return this.assert(this.obj>=e&&this.obj<=t,"expected "+i(this.obj)+" to be within "+n,"expected "+i(this.obj)+" to not be within "+n),this},Assertion.prototype.a=Assertion.prototype.an=function(e){if("string"==typeof e){var t=/^[aeiou]/.test(e)?"n":"";this.assert("array"==e?isArray(this.obj):"object"==e?"object"==typeof this.obj&&null!==this.obj:e==typeof this.obj,"expected "+i(this.obj)+" to be a"+t+" "+e,"expected "+i(this.obj)+" not to be a"+t+" "+e)}else{var n=e.name||"supplied constructor";this.assert(this.obj instanceof e,"expected "+i(this.obj)+" to be an instance of "+n,"expected "+i(this.obj)+" not to be an instance of "+n)}return this},Assertion.prototype.greaterThan=Assertion.prototype.above=function(e){return this.assert(this.obj>e,"expected "+i(this.obj)+" to be above "+e,"expected "+i(this.obj)+" to be below "+e),this},Assertion.prototype.lessThan=Assertion.prototype.below=function(e){return this.assert(this.obj<e,"expected "+i(this.obj)+" to be below "+e,"expected "+i(this.obj)+" to be above "+e),this},Assertion.prototype.match=function(e){return this.assert(e.exec(this.obj),"expected "+i(this.obj)+" to match "+e,"expected "+i(this.obj)+" not to match "+e),this},Assertion.prototype.length=function(e){expect(this.obj).to.have.property("length");var t=this.obj.length;return this.assert(e==t,"expected "+i(this.obj)+" to have a length of "+e+" but got "+t,"expected "+i(this.obj)+" to not have a length of "+t),this},Assertion.prototype.property=function(e,t){if(this.flags.own)return this.assert(Object.prototype.hasOwnProperty.call(this.obj,e),"expected "+i(this.obj)+" to have own property "+i(e),"expected "+i(this.obj)+" to not have own property "+i(e)),this;if(this.flags.not&&undefined!==t){if(undefined===this.obj[e])throw new Error(i(this.obj)+" has no property "+i(e))}else{var n;try{n=e in this.obj}catch(r){n=undefined!==this.obj[e]}this.assert(n,"expected "+i(this.obj)+" to have a property "+i(e),"expected "+i(this.obj)+" to not have a property "+i(e))}return undefined!==t&&this.assert(t===this.obj[e],"expected "+i(this.obj)+" to have a property "+i(e)+" of "+i(t)+", but got "+i(this.obj[e]),"expected "+i(this.obj)+" to not have a property "+i(e)+" of "+i(t)),this.obj=this.obj[e],this},Assertion.prototype.string=Assertion.prototype.contain=function(e){return"string"==typeof this.obj?this.assert(~this.obj.indexOf(e),"expected "+i(this.obj)+" to contain "+i(e),"expected "+i(this.obj)+" to not contain "+i(e)):this.assert(~indexOf(this.obj,e),"expected "+i(this.obj)+" to contain "+i(e),"expected "+i(this.obj)+" to not contain "+i(e)),this},Assertion.prototype.key=Assertion.prototype.keys=function(e){var t,n=!0;e=isArray(e)?e:Array.prototype.slice.call(arguments);if(!e.length)throw new Error("keys required");var r=keys(this.obj),s=e.length;n=every(e,function(e){return~indexOf(r,e)}),!this.flags.not&&this.flags.only&&(n=n&&e.length==r.length);if(s>1){e=map(e,function(e){return i(e)});var o=e.pop();t=e.join(", ")+", and "+o}else t=i(e[0]);return t=(s>1?"keys ":"key ")+t,t=(this.flags.only?"only have ":"include ")+t,this.assert(n,"expected "+i(this.obj)+" to "+t,"expected "+i(this.obj)+" to not "+t),this},expect.eql=function(t,n){if(t===n)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(n)){if(t.length!=n.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}return t instanceof Date&&n instanceof Date?t.getTime()===n.getTime():typeof t!="object"&&typeof n!="object"?t==n:objEquiv(t,n)};var json=function(){function f(e){return e<10?"0"+e:e}function date(e,t){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a instanceof Date&&(a=date(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}if("object"==typeof JSON&&JSON.parse&&JSON.stringify)return{parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;return JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")},JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")},JSON}();"undefined"!=typeof window&&(window.expect=module.exports)}(this,"undefined"!=typeof module?module:{},"undefined"!=typeof exports?exports:{}),define("expect",function(e){return function(){var t,n;return t||e.expect}}(this)),function(){function e(t){var n=e.resolve(t),r=e.modules[n];if(!r)throw new Error('failed to require "'+t+'"');return r.exports||(r.exports={},r.call(r.exports,r,r.exports,e.relative(n))),r.exports}function h(){var e=(new t).getTime();while(l.length&&(new t).getTime()-e<100)l.shift()();l.length?c=n(h,0):c=null}e.modules={},e.resolve=function(t){var n=t,r=t+".js",i=t+"/index.js";return e.modules[r]&&r||e.modules[i]&&i||n},e.register=function(t,n){e.modules[t]=n},e.relative=function(t){return function(n){if("."!=n.charAt(0))return e(n);var r=t.split("/"),i=n.split("/");r.pop();for(var s=0;s<i.length;s++){var o=i[s];".."==o?r.pop():"."!=o&&r.push(o)}return e(r.join("/"))}},e.register("browser/debug.js",function(e,t,n){e.exports=function(e){return function(){}}}),e.register("browser/diff.js",function(e,t,n){var r=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){var t=[];for(var n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function n(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}var r=function(e){this.ignoreWhitespace=e};r.prototype={diff:function(t,n){if(n===t)return[{value:n}];if(!n)return[{value:t,removed:!0}];if(!t)return[{value:n,added:!0}];n=this.tokenize(n),t=this.tokenize(t);var r=n.length,i=t.length,s=r+i,o=[{newPos:-1,components:[]}],u=this.extractCommon(o[0],n,t,0);if(o[0].newPos+1>=r&&u+1>=i)return o[0].components;for(var a=1;a<=s;a++)for(var f=-1*a;f<=a;f+=2){var l,c=o[f-1],h=o[f+1];u=(h?h.newPos:0)-f,c&&(o[f-1]=undefined);var p=c&&c.newPos+1<r,d=h&&0<=u&&u<i;if(!p&&!d){o[f]=undefined;continue}!p||d&&c.newPos<h.newPos?(l=e(h),this.pushComponent(l.components,t[u],undefined,!0)):(l=e(c),l.newPos++,this.pushComponent(l.components,n[l.newPos],!0,undefined));var u=this.extractCommon(l,n,t,f);if(l.newPos+1>=r&&u+1>=i)return l.components;o[f]=l}},pushComponent:function(e,t,n,r){var i=e[e.length-1];i&&i.added===n&&i.removed===r?e[e.length-1]={value:this.join(i.value,t),added:n,removed:r}:e.push({value:t,added:n,removed:r})},extractCommon:function(e,t,n,r){var i=t.length,s=n.length,o=e.newPos,u=o-r;while(o+1<i&&u+1<s&&this.equals(t[o+1],n[u+1]))o++,u++,this.pushComponent(e.components,t[o],undefined,undefined);return e.newPos=o,u},equals:function(e,t){var n=/\S/;return this.ignoreWhitespace&&!n.test(e)&&!n.test(t)?!0:e===t},join:function(e,t){return e+t},tokenize:function(e){return e}};var i=new r,s=new r(!0),o=new r;s.tokenize=o.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var u=new r(!0);u.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var a=new r;return a.tokenize=function(e){return e.split(/^/m)},{Diff:r,diffChars:function(e,t){return i.diff(e,t)},diffWords:function(e,t){return s.diff(e,t)},diffWordsWithSpace:function(e,t){return o.diff(e,t)},diffLines:function(e,t){return a.diff(e,t)},diffCss:function(e,t){return u.diff(e,t)},createPatch:function(e,t,n,r,i){function u(e){return e.map(function(e){return" "+e})}function f(e,t,n){var r=o[o.length-2],i=t===o.length-2,s=t===o.length-3&&(n.added!==r.added||n.removed!==r.removed);!/\n$/.test(n.value)&&(i||s)&&e.push("\\ No newline at end of file")}var s=[];s.push("Index: "+e),s.push("==================================================================="),s.push("--- "+e+(typeof r=="undefined"?"":"	"+r)),s.push("+++ "+e+(typeof i=="undefined"?"":"	"+i));var o=a.diff(t,n);o[o.length-1].value||o.pop(),o.push({value:"",lines:[]});var l=0,c=0,h=[],p=1,d=1;for(var v=0;v<o.length;v++){var m=o[v],g=m.lines||m.value.replace(/\n$/,"").split("\n");m.lines=g;if(m.added||m.removed){if(!l){var y=o[v-1];l=p,c=d,y&&(h=u(y.lines.slice(-4)),l-=h.length,c-=h.length)}h.push.apply(h,g.map(function(e){return(m.added?"+":"-")+e})),f(h,v,m),m.added?d+=g.length:p+=g.length}else{if(l)if(g.length<=8&&v<o.length-2)h.push.apply(h,u(g));else{var b=Math.min(g.length,4);s.push("@@ -"+l+","+(p-l+b)+" +"+c+","+(d-c+b)+" @@"),s.push.apply(s,h),s.push.apply(s,u(g.slice(0,b))),g.length<=4&&f(s,v,m),l=0,c=0,h=[]}p+=g.length,d+=g.length}}return s.join("\n")+"\n"},applyPatch:function(e,t){var n=t.split("\n"),r=[],i=!1,s=!1;for(var o=n[0][0]==="I"?4:0;o<n.length;o++)if(n[o][0]==="@"){var u=n[o].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:u[3],oldlength:u[2],oldlines:[],newlength:u[4],newlines:[]})}else n[o][0]==="+"?r[0].newlines.push(n[o].substr(1)):n[o][0]==="-"?r[0].oldlines.push(n[o].substr(1)):n[o][0]===" "?(r[0].newlines.push(n[o].substr(1)),r[0].oldlines.push(n[o].substr(1))):n[o][0]==="\\"&&(n[o-1][0]==="+"?i=!0:n[o-1][0]==="-"&&(s=!0));var a=e.split("\n");for(var o=r.length-1;o>=0;o--){var f=r[o];for(var l=0;l<f.oldlength;l++)if(a[f.start-1+l]!==f.oldlines[l])return!1;Array.prototype.splice.apply(a,[f.start-1,+f.oldlength].concat(f.newlines))}if(i)while(!a[a.length-1])a.pop();else s&&a.push("");return a.join("\n")},convertChangesToXML:function(e){var t=[];for(var r=0;r<e.length;r++){var i=e[r];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push(n(i.value)),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){var t=[],n;for(var r=0;r<e.length;r++)n=e[r],t.push([n.added?1:n.removed?-1:0,n.value]);return t}}}();typeof e!="undefined"&&(e.exports=r)}),e.register("browser/events.js",function(e,t,n){function r(e){return"[object Array]"=={}.toString.call(e)}function i(){}t.EventEmitter=i,i.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?r(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},i.prototype.addListener=i.prototype.on,i.prototype.once=function(e,t){function r(){n.removeListener(e,r),t.apply(this,arguments)}var n=this;return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var n=this.$events[e];if(r(n)){var i=-1;for(var s=0,o=n.length;s<o;s++)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;n.splice(i,1),n.length||delete this.$events[e]}else(n===t||n.listener&&n.listener===t)&&delete this.$events[e]}return this},i.prototype.removeAllListeners=function(e){return e===undefined?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},i.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),r(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},i.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var n=[].slice.call(arguments,1);if("function"==typeof t)t.apply(this,n);else{if(!r(t))return!1;var i=t.slice();for(var s=0,o=i.length;s<o;s++)i[s].apply(this,n)}return!0}}),e.register("browser/fs.js",function(e,t,n){}),e.register("browser/path.js",function(e,t,n){}),e.register("browser/progress.js",function(e,t,n){function r(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}e.exports=r,r.prototype.size=function(e){return this._size=e,this},r.prototype.text=function(e){return this._text=e,this},r.prototype.fontSize=function(e){return this._fontSize=e,this},r.prototype.font=function(e){return this._font=e,this},r.prototype.update=function(e){return this.percent=e,this},r.prototype.draw=function(e){try{var t=Math.min(this.percent,100),n=this._size,r=n/2,i=r,s=r,o=r-1,u=this._fontSize;e.font=u+"px "+this._font;var a=Math.PI*2*(t/100);e.clearRect(0,0,n,n),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(i,s,o,0,a,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(i,s,o-1,0,a,!0),e.stroke();var f=this._text||(t|0)+"%",l=e.measureText(f).width;e.fillText(f,i-l/2+1,s+u/2-1)}catch(c){}return this}}),e.register("browser/tty.js",function(e,t,n){t.isatty=function(){return!0},t.getWindowSize=function(){return"innerHeight"in global?[global.innerHeight,global.innerWidth]:[640,480]}}),e.register("context.js",function(e,t,n){function r(){}e.exports=r,r.prototype.runnable=function(e){return 0==arguments.length?this._runnable:(this.test=this._runnable=e,this)},r.prototype.timeout=function(e){return this.runnable().timeout(e),this},r.prototype.slow=function(e){return this.runnable().slow(e),this},r.prototype.inspect=function(){return JSON.stringify(this,function(e,t){if("_runnable"==e)return;if("test"==e)return;return t},2)}}),e.register("hook.js",function(e,t,n){function i(e,t){r.call(this,e,t),this.type="hook"}function s(){}var r=n("./runnable");e.exports=i,s.prototype=r.prototype,i.prototype=new s,i.prototype.constructor=i,i.prototype.error=function(e){if(0==arguments.length){var e=this._error;return this._error=null,e}this._error=e}}),e.register("interfaces/bdd.js",function(e,t,n){var r=n("../suite"),i=n("../test"),s=n("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,o){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.describe=e.context=function(e,n){var i=r.create(t[0],e);return t.unshift(i),n.call(i),t.shift(),i},e.xdescribe=e.xcontext=e.describe.skip=function(e,n){var i=r.create(t[0],e);i.pending=!0,t.unshift(i),n.call(i),t.shift()},e.describe.only=function(t,n){var r=e.describe(t,n);return o.grep(r.fullTitle()),r},e.it=e.specify=function(e,n){var r=t[0];if(r.pending)var n=null;var s=new i(e,n);return r.addTest(s),s},e.it.only=function(t,n){var r=e.it(t,n),i="^"+s.escapeRegexp(r.fullTitle())+"$";return o.grep(new RegExp(i)),r},e.xit=e.xspecify=e.it.skip=function(t){e.it(t)}})}}),e.register("interfaces/exports.js",function(e,t,n){var r=n("../suite"),i=n("../test");e.exports=function(e){function n(e){var s;for(var o in e)if("function"==typeof e[o]){var u=e[o];switch(o){case"before":t[0].beforeAll(u);break;case"after":t[0].afterAll(u);break;case"beforeEach":t[0].beforeEach(u);break;case"afterEach":t[0].afterEach(u);break;default:t[0].addTest(new i(o,u))}}else{var s=r.create(t[0],o);t.unshift(s),n(e[o]),t.shift()}}var t=[e];e.on("require",n)}}),e.register("interfaces/index.js",function(e,t,n){t.bdd=n("./bdd"),t.tdd=n("./tdd"),t.qunit=n("./qunit"),t.exports=n("./exports")}),e.register("interfaces/qunit.js",function(e,t,n){var r=n("../suite"),i=n("../test"),s=n("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,o){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.suite=function(e){t.length>1&&t.shift();var n=r.create(t[0],e);return t.unshift(n),n},e.suite.only=function(t,n){var r=e.suite(t,n);o.grep(r.fullTitle())},e.test=function(e,n){var r=new i(e,n);return t[0].addTest(r),r},e.test.only=function(t,n){var r=e.test(t,n),i="^"+s.escapeRegexp(r.fullTitle())+"$";o.grep(new RegExp(i))},e.test.skip=function(t){e.test(t)}})}}),e.register("interfaces/tdd.js",function(e,t,n){var r=n("../suite"),i=n("../test"),s=n("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,o){e.setup=function(e){t[0].beforeEach(e)},e.teardown=function(e){t[0].afterEach(e)},e.suiteSetup=function(e){t[0].beforeAll(e)},e.suiteTeardown=function(e){t[0].afterAll(e)},e.suite=function(e,n){var i=r.create(t[0],e);return t.unshift(i),n.call(i),t.shift(),i},e.suite.skip=function(e,n){var i=r.create(t[0],e);i.pending=!0,t.unshift(i),n.call(i),t.shift()},e.suite.only=function(t,n){var r=e.suite(t,n);o.grep(r.fullTitle())},e.test=function(e,n){var r=t[0];if(r.pending)var n=null;var s=new i(e,n);return r.addTest(s),s},e.test.only=function(t,n){var r=e.test(t,n),i="^"+s.escapeRegexp(r.fullTitle())+"$";o.grep(new RegExp(i))},e.test.skip=function(t){e.test(t)}})}}),e.register("mocha.js",function(e,t,n){function s(e){return __dirname+"/../images/"+e+".png"}function o(e){e=e||{},this.files=[],this.options=e,this.grep(e.grep),this.suite=new t.Suite("",new t.Context),this.ui(e.ui),this.bail(e.bail),this.reporter(e.reporter),null!=e.timeout&&this.timeout(e.timeout),this.useColors(e.useColors),e.slow&&this.slow(e.slow),this.suite.on("pre-require",function(e){t.afterEach=e.afterEach||e.teardown,t.after=e.after||e.suiteTeardown,t.beforeEach=e.beforeEach||e.setup,t.before=e.before||e.suiteSetup,t.describe=e.describe||e.suite,t.it=e.it||e.test,t.setup=e.setup||e.beforeEach,t.suiteSetup=e.suiteSetup||e.before,t.suiteTeardown=e.suiteTeardown||e.after,t.suite=e.suite||e.describe,t.teardown=e.teardown||e.afterEach,t.test=e.test||e.it})}var r=n("browser/path"),i=n("./utils");t=e.exports=o,t.utils=i,t.interfaces=n("./interfaces"),t.reporters=n("./reporters"),t.Runnable=n("./runnable"),t.Context=n("./context"),t.Runner=n("./runner"),t.Suite=n("./suite"),t.Hook=n("./hook"),t.Test=n("./test"),o.prototype.bail=function(e){return 0==arguments.length&&(e=!0),this.suite.bail(e),this},o.prototype.addFile=function(e){return this.files.push(e),this},o.prototype.reporter=function(e){if("function"==typeof e)this._reporter=e;else{e=e||"dot";var t;try{t=n("./reporters/"+e)}catch(r){}if(!t)try{t=n(e)}catch(r){}!t&&e==="teamcity"&&console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter).");if(!t)throw new Error('invalid reporter "'+e+'"');this._reporter=t}return this},o.prototype.ui=function(e){e=e||"bdd",this._ui=t.interfaces[e];if(!this._ui)try{this._ui=n(e)}catch(r){}if(!this._ui)throw new Error('invalid interface "'+e+'"');return this._ui=this._ui(this.suite),this},o.prototype.loadFiles=function(e){var t=this,i=this.suite,s=this.files.length;this.files.forEach(function(o){o=r.resolve(o),i.emit("pre-require",global,o,t),i.emit("require",n(o),o,t),i.emit("post-require",global,o,t),--s||e&&e()})},o.prototype._growl=function(e,t){var r=n("growl");e.on("end",function(){var n=t.stats;if(n.failures){var i=n.failures+" of "+e.total+" tests failed";r(i,{name:"mocha",title:"Failed",image:s("error")})}else r(n.passes+" tests passed in "+n.duration+"ms",{name:"mocha",title:"Passed",image:s("ok")})})},o.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(i.escapeRegexp(e)):e,this},o.prototype.invert=function(){return this.options.invert=!0,this},o.prototype.ignoreLeaks=function(e){return this.options.ignoreLeaks=!!e,this},o.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},o.prototype.growl=function(){return this.options.growl=!0,this},o.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},o.prototype.useColors=function(e){return this.options.useColors=arguments.length&&e!=undefined?e:!0,this},o.prototype.useInlineDiffs=function(e){return this.options.useInlineDiffs=arguments.length&&e!=undefined?e:!1,this},o.prototype.timeout=function(e){return this.suite.timeout(e),this},o.prototype.slow=function(e){return this.suite.slow(e),this},o.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},o.prototype.run=function(e){this.files.length&&this.loadFiles();var n=this.suite,r=this.options,i=new t.Runner(n),s=new this._reporter(i);return i.ignoreLeaks=!1!==r.ignoreLeaks,i.asyncOnly=r.asyncOnly,r.grep&&i.grep(r.grep,r.invert),r.globals&&i.globals(r.globals),r.growl&&this._growl(i,s),t.reporters.Base.useColors=r.useColors,t.reporters.Base.inlineDiffs=r.useInlineDiffs,i.run(e)}}),e.register("ms.js",function(e,t,n){function a(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"y":return n*u;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"h":return n*s;case"minutes":case"minute":case"m":return n*i;case"seconds":case"second":case"s":return n*r;case"ms":return n}}function f(e){return e>=o?Math.round(e/o)+"d":e>=s?Math.round(e/s)+"h":e>=i?Math.round(e/i)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}function l(e){return c(e,o,"day")||c(e,s,"hour")||c(e,i,"minute")||c(e,r,"second")||e+" ms"}function c(e,t,n){if(e<t)return;return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var r=1e3,i=r*60,s=i*60,o=s*24,u=o*365.25;e.exports=function(e,t){return t=t||{},"string"==typeof e?a(e):t.long?l(e):f(e)}}),e.register("reporters/base.js",function(e,t,n){function v(e){var t=this,n=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},r=this.failures=[];if(!e)return;this.runner=e,e.stats=n,e.on("start",function(){n.start=new a}),e.on("suite",function(e){n.suites=n.suites||0,e.root||n.suites++}),e.on("test end",function(e){n.tests=n.tests||0,n.tests++}),e.on("pass",function(e){n.passes=n.passes||0;var t=e.slow()/2;e.speed=e.duration>e.slow()?"slow":e.duration>t?"medium":"fast",n.passes++}),e.on("fail",function(e,t){n.failures=n.failures||0,n.failures++,e.err=t,r.push(e)}),e.on("end",function(){n.end=new a,n.duration=new a-n.start}),e.on("pending",function(){n.pending++})}function m(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function g(e,t){var n=b(e,"WordsWithSpace",t),r=n.split("\n");if(r.length>4){var i=String(r.length).length;n=r.map(function(e,t){return m(++t,i)+" |"+" "+e}).join("\n")}return n="\n"+d("diff removed","actual")+" "+d("diff added","expected")+"\n\n"+n+"\n",n=n.replace(/^/gm,"      "),n}function y(e,t){function r(e){return t&&(e=w(e)),e[0]==="+"?n+E("diff added",e):e[0]==="-"?n+E("diff removed",e):e.match(/\@\@/)?null:e.match(/\\ No newline/)?null:n+e}function s(e){return e!=null}var n="      ";msg=i.createPatch("string",e.actual,e.expected);var o=msg.split("\n").splice(4);return"\n      "+E("diff added","+ expected")+" "+E("diff removed","- actual")+"\n\n"+o.map(r).filter(s).join("\n")}function b(e,t,n){var r=n?w(e.actual):e.actual,s=n?w(e.expected):e.expected;return i["diff"+t](r,s).map(function(e){return e.added?E("diff added",e.value):e.removed?E("diff removed",e.value):e.value}).join("")}function w(e){return e.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function E(e,t){return t.split("\n").map(function(t){return d(e,t)}).join("\n")}function S(e){return e instanceof RegExp?e.toString():JSON.stringify(e,null,2)}function x(e,t){t=t||[];if(u.indexOf(t,e)!==-1)return e;var n;return"[object Array]"=={}.toString.call(e)?(t.push(e),n=u.map(e,function(e){return x(e,t)}),t.pop()):typeof e=="object"&&e!==null?(t.push(e),n={},u.forEach(u.keys(e).sort(),function(r){n[r]=x(e[r],t)}),t.pop()):n=e,n}function T(e,t){return e=Object.prototype.toString.call(e),t=Object.prototype.toString.call(t),e==t}var r=n("browser/tty"),i=n("browser/diff"),s=n("../ms"),u=n("../utils"),a=global.Date,f=global.setTimeout,l=global.setInterval,c=global.clearTimeout,h=global.clearInterval,p=r.isatty(1)&&r.isatty(2);t=e.exports=v,t.useColors=p||o.env.MOCHA_COLORS!==undefined,t.inlineDiffs=!1,t.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},t.symbols={ok:"",err:"",dot:""},"win32"==o.platform&&(t.symbols.ok="",t.symbols.err="",t.symbols.dot=".");var d=t.color=function(e,n){return t.useColors?"["+t.colors[e]+"m"+n+"[0m":n};t.window={width:p?o.stdout.getWindowSize?o.stdout.getWindowSize(1)[0]:r.getWindowSize()[1]:75},t.cursor={hide:function(){p&&o.stdout.write("[?25l")},show:function(){p&&o.stdout.write("[?25h")},deleteLine:function(){p&&o.stdout.write("[2K")},beginningOfLine:function(){p&&o.stdout.write("[0G")},CR:function(){p?(t.cursor.deleteLine(),t.cursor.beginningOfLine()):o.stdout.write("\r")}},t.list=function(e){console.error(),e.forEach(function(e,n){var r=d("error title","  %s) %s:\n")+d("error message","     %s")+d("error stack","\n%s\n"),i=e.err,s=i.message||"",o=i.stack||s,u=o.indexOf(s)+s.length,a=o.slice(0,u),f=i.actual,l=i.expected,c=!0;i.uncaught&&(a="Uncaught "+a),i.showDiff&&T(f,l)&&(c=!1,i.actual=f=S(x(f)),i.expected=l=S(x(l)));if("string"==typeof f&&"string"==typeof l){r=d("error title","  %s) %s:\n%s")+d("error stack","\n%s\n");var h=s.match(/^([^:]+): expected/);a="\n      "+d("error message",h?h[1]:a),t.inlineDiffs?a+=g(i,c):a+=y(i,c)}o=o.slice(u?u+1:u).replace(/^/gm,"  "),console.error(r,n+1,e.fullTitle(),a,o)})},v.prototype.epilogue=function(){var e=this.stats,t,n;console.log(),n=d("bright pass"," ")+d("green"," %d passing")+d("light"," (%s)"),console.log(n,e.passes||0,s(e.duration)),e.pending&&(n=d("pending"," ")+d("pending"," %d pending"),console.log(n,e.pending)),e.failures&&(n=d("fail","  %d failing"),console.error(n,e.failures),v.list(this.failures),console.error()),console.log()}}),e.register("reporters/doc.js",function(e,t,n){function s(e){function u(){return Array(o).join("  ")}r.call(this,e);var t=this,n=this.stats,s=e.total,o=2;e.on("suite",function(e){if(e.root)return;++o,console.log('%s<section class="suite">',u()),++o,console.log("%s<h1>%s</h1>",u(),i.escape(e.title)),console.log("%s<dl>",u())}),e.on("suite end",function(e){if(e.root)return;console.log("%s</dl>",u()),--o,console.log("%s</section>",u()),--o}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",u(),i.escape(e.title));var t=i.escape(i.clean(e.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",u(),t)})}var r=n("./base"),i=n("../utils");t=e.exports=s}),e.register("reporters/dot.js",function(e,t,n){function s(e){r.call(this,e);var t=this,n=this.stats,s=r.window.width*.75|0,u=0;e.on("start",function(){o.stdout.write("\n  ")}),e.on("pending",function(e){o.stdout.write(i("pending",r.symbols.dot))}),e.on("pass",function(e){++u%s==0&&o.stdout.write("\n  "),"slow"==e.speed?o.stdout.write(i("bright yellow",r.symbols.dot)):o.stdout.write(i(e.speed,r.symbols.dot))}),e.on("fail",function(e,t){++u%s==0&&o.stdout.write("\n  "),o.stdout.write(i("fail",r.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}function u(){}var r=n("./base"),i=r.color;t=e.exports=s,u.prototype=r.prototype,s.prototype=new u,s.prototype.constructor=s}),e.register("reporters/html-cov.js",function(e,t,n){function s(e){var t=n("jade"),s=__dirname+"/templates/coverage.jade",a=i.readFileSync(s,"utf8"),f=t.compile(a,{filename:s}),l=this;r.call(this,e,!1),e.on("end",function(){o.stdout.write(f({cov:l.cov,coverageClass:u}))})}function u(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var r=n("./json-cov"),i=n("browser/fs");t=e.exports=s}),e.register("reporters/html.js",function(e,t,n){function p(e,t){r.call(this,e);var n=this,a=this.stats,f=e.total,l=v(h),c=l.getElementsByTagName("li"),p=c[1].getElementsByTagName("em")[0],w=c[1].getElementsByTagName("a")[0],E=c[2].getElementsByTagName("em")[0],S=c[2].getElementsByTagName("a")[0],x=c[3].getElementsByTagName("em")[0],T=l.getElementsByTagName("canvas")[0],N=v('<ul id="mocha-report"></ul>'),C=[N],k,L;t=t||document.getElementById("mocha");if(T.getContext){var A=window.devicePixelRatio||1;T.style.width=T.width,T.style.height=T.height,T.width*=A,T.height*=A,L=T.getContext("2d"),L.scale(A,A),k=new s}if(!t)return d("#mocha div missing, add it to your document");b(w,"click",function(){g();var e=/pass/.test(N.className)?"":" pass";N.className=N.className.replace(/fail|pass/g,"")+e,N.className.trim()&&m("test pass")}),b(S,"click",function(){g();var e=/fail/.test(N.className)?"":" fail";N.className=N.className.replace(/fail|pass/g,"")+e,N.className.trim()&&m("test fail")}),t.appendChild(l),t.appendChild(N),k&&k.size(40),e.on("suite",function(e){if(e.root)return;var t=n.suiteURL(e),r=v('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,o(e.title));C[0].appendChild(r),C.unshift(document.createElement("ul")),r.appendChild(C[0])}),e.on("suite end",function(e){if(e.root)return;C.shift()}),e.on("fail",function(t,n){"hook"==t.type&&e.emit("test end",t)}),e.on("test end",function(e){var t=a.tests/this.total*100|0;k&&k.update(t).draw(L);var r=new u-a.start;y(p,a.passes),y(E,a.failures),y(x,(r/1e3).toFixed(2));if("passed"==e.state)var s=n.testURL(e),o=v('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay"></a></h2></li>',e.speed,e.title,e.duration,s);else if(e.pending)var o=v('<li class="test pass pending"><h2>%e</h2></li>',e.title);else{var o=v('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay"></a></h2></li>',e.title,encodeURIComponent(e.fullTitle())),f=e.err.stack||e.err.toString();~f.indexOf(e.err.message)||(f=e.err.message+"\n"+f),"[object Error]"==f&&(f=e.err.message),!e.err.stack&&e.err.sourceURL&&e.err.line!==undefined&&(f+="\n("+e.err.sourceURL+":"+e.err.line+")"),o.appendChild(v('<pre class="error">%e</pre>',f))}if(!e.pending){var l=o.getElementsByTagName("h2")[0];b(l,"click",function(){c.style.display="none"==c.style.display?"block":"none"});var c=v("<pre><code>%e</code></pre>",i.clean(e.fn.toString()));o.appendChild(c),c.style.display="none"}C[0]&&C[0].appendChild(o)})}function d(e){document.body.appendChild(v('<div id="mocha-error">%s</div>',e))}function v(e){var t=arguments,n=document.createElement("div"),r=1;return n.innerHTML=e.replace(/%([se])/g,function(e,n){switch(n){case"s":return String(t[r++]);case"e":return o(t[r++])}}),n.firstChild}function m(e){var t=document.getElementsByClassName("suite");for(var n=0;n<t.length;n++){var r=t[n].getElementsByClassName(e);0==r.length&&(t[n].className+=" hidden")}}function g(){var e=document.getElementsByClassName("suite hidden");for(var t=0;t<e.length;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function y(e,t){e.textContent?e.textContent=t:e.innerText=t}function b(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}var r=n("./base"),i=n("../utils"),s=n("../browser/progress"),o=i.escape,u=global.Date,a=global.setTimeout,f=global.setInterval,l=global.clearTimeout,c=global.clearInterval;t=e.exports=p;var h='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>';p.prototype.suiteURL=function(e){return"?grep="+encodeURIComponent(e.fullTitle())},p.prototype.testURL=function(e){return"?grep="+encodeURIComponent(e.fullTitle())}}),e.register("reporters/index.js",function(e,t,n){t.Base=n("./base"),t.Dot=n("./dot"),t.Doc=n("./doc"),t.TAP=n("./tap"),t.JSON=n("./json"),t.HTML=n("./html"),t.List=n("./list"),t.Min=n("./min"),t.Spec=n("./spec"),t.Nyan=n("./nyan"),t.XUnit=n("./xunit"),t.Markdown=n("./markdown"),t.Progress=n("./progress"),t.Landing=n("./landing"),t.JSONCov=n("./json-cov"),t.HTMLCov=n("./html-cov"),t.JSONStream=n("./json-stream")}),e.register("reporters/json-cov.js",function(e,t,n){function i(e,t){var n=this,t=1==arguments.length?!0:t;r.call(this,e);var i=[],u=[],f=[];e.on("test end",function(e){i.push(e)}),e.on("pass",function(e){f.push(e)}),e.on("fail",function(e){u.push(e)}),e.on("end",function(){var e=global._$jscoverage||{},r=n.cov=s(e);r.stats=n.stats,r.tests=i.map(a),r.failures=u.map(a),r.passes=f.map(a);if(!t)return;o.stdout.write(JSON.stringify(r,null,2))})}function s(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in e){var r=u(n,e[n]);t.files.push(r),t.hits+=r.hits,t.misses+=r.misses,t.sloc+=r.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=t.hits/t.sloc*100),t}function u(e,t){var n={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,r){r++,t[r]===0?(n.misses++,n.sloc++):t[r]!==undefined&&(n.hits++,n.sloc++),n.source[r]={source:e,coverage:t[r]===undefined?"":t[r]}}),n.coverage=n.hits/n.sloc*100,n}function a(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var r=n("./base");t=e.exports=i}),e.register("reporters/json-stream.js",function(e,t,n){function s(e){r.call(this,e);var t=this,n=this.stats,i=e.total;e.on("start",function(){console.log(JSON.stringify(["start",{total:i}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",u(e)]))}),e.on("fail",function(e,t){console.log(JSON.stringify(["fail",u(e)]))}),e.on("end",function(){o.stdout.write(JSON.stringify(["end",t.stats]))})}function u(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var r=n("./base"),i=r.color;t=e.exports=s}),e.register("reporters/json.js",function(e,t,n){function u(e){var t=this;r.call(this,e);var n=[],i=[],s=[];e.on("test end",function(e){n.push(e)}),e.on("pass",function(e){s.push(e)}),e.on("fail",function(e){i.push(e)}),e.on("end",function(){var e={stats:t.stats,tests:n.map(a),failures:i.map(a),passes:s.map(a)};o.stdout.write(JSON.stringify(e,null,2))})}function a(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var r=n("./base"),i=r.cursor,s=r.color;t=e.exports=u}),e.register("reporters/landing.js",function(e,t,n){function u(e){function p(){var e=Array(u).join("-");return"  "+s("runway",e)}r.call(this,e);var t=this,n=this.stats,u=r.window.width*.75|0,a=e.total,f=o.stdout,l=s("plane",""),c=-1,h=0;e.on("start",function(){f.write("\n  "),i.hide()}),e.on("test end",function(e){var t=-1==c?u*++h/a|0:c;"failed"==e.state&&(l=s("plane crash",""),c=t),f.write("[4F\n\n"),f.write(p()),f.write("\n  "),f.write(s("runway",Array(t).join(""))),f.write(l),f.write(s("runway",Array(u-t).join("")+"\n")),f.write(p()),f.write("[0m")}),e.on("end",function(){i.show(),console.log(),t.epilogue()})}function a(){}var r=n("./base"),i=r.cursor,s=r.color;t=e.exports=u,r.colors.plane=0,r.colors["plane crash"]=31,r.colors.runway=90,a.prototype=r.prototype,u.prototype=new a,u.prototype.constructor=u}),e.register("reporters/list.js",function(e,t,n){function u(e){r.call(this,e);var t=this,n=this.stats,u=0;e.on("start",function(){console.log()}),e.on("test",function(e){o.stdout.write(s("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=s("checkmark","  -")+s("pending"," %s");console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=s("checkmark","  "+r.symbols.dot)+s("pass"," %s: ")+s(e.speed,"%dms");i.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e,t){i.CR(),console.log(s("fail","  %d) %s"),++u,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}function a(){}var r=n("./base"),i=r.cursor,s=r.color;t=e.exports=u,a.prototype=r.prototype,u.prototype=new a,u.prototype.constructor=u}),e.register("reporters/markdown.js",function(e,t,n){function s(e){function a(e){return Array(s).join("#")+" "+e}function f(){return Array(s).join("  ")}function l(e,t){var n=t;return t=t[e.title]=t[e.title]||{suite:e},e.suites.forEach(function(e){l(e,t)}),n}function c(e,t){++t;var n="",r;for(var s in e){if("suite"==s)continue;s&&(r=" - ["+s+"](#"+i.slug(e[s].suite.fullTitle())+")\n"),s&&(n+=Array(t).join("  ")+r),n+=c(e[s],t)}return--t,n}function h(e){var t=l(e,{});return c(t,0)}r.call(this,e);var t=this,n=this.stats,s=0,u="";h(e.suite),e.on("suite",function(e){++s;var t=i.slug(e.fullTitle());u+='<a name="'+t+'"></a>'+"\n",u+=a(e.title)+"\n"}),e.on("suite end",function(e){--s}),e.on("pass",function(e){var t=i.clean(e.fn.toString());u+=e.title+".\n",u+="\n```js\n",u+=t+"\n",u+="```\n\n"}),e.on("end",function(){o.stdout.write("# TOC\n"),o.stdout.write(h(e.suite)),o.stdout.write(u)})}var r=n("./base"),i=n("../utils");t=e.exports=s}),e.register("reporters/min.js",function(e,t,n){function i(e){r.call(this,e),e.on("start",function(){o.stdout.write("[2J"),o.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}function s(){}var r=n("./base");t=e.exports=i,s.prototype=r.prototype,i.prototype=new s,i.prototype.constructor=i}),e.register("reporters/nyan.js",function(e,t,n){function s(e){r.call(this,e);var t=this,n=this.stats,i=r.window.width*.75|0,s=this.rainbowColors=t.generateColors(),o=this.colorIndex=0,a=this.numberOfLines=4,f=this.trajectories=[[],[],[],[]],l=this.nyanCatWidth=11,c=this.trajectoryWidthMax=i-l,h=this.scoreboardWidth=5,p=this.tick=0,d=0;e.on("start",function(){r.cursor.hide(),t.draw()}),e.on("pending",function(e){t.draw()}),e.on("pass",function(e){t.draw()}),e.on("fail",function(e,n){t.draw()}),e.on("end",function(){r.cursor.show();for(var e=0;e<t.numberOfLines;e++)u("\n");t.epilogue()})}function u(e){o.stdout.write(e)}function a(){}var r=n("./base"),i=r.color;t=e.exports=s,s.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},s.prototype.drawScoreboard=function(){function n(e,t){u(" "),u("["+e+"m"+t+"[0m"),u("\n")}var e=this.stats,t=r.colors;n(t.green,e.passes),n(t.fail,e.failures),n(t.pending,e.pending),u("\n"),this.cursorUp(this.numberOfLines)},s.prototype.appendRainbow=function(){var e=this.tick?"_":"-",t=this.rainbowify(e);for(var n=0;n<this.numberOfLines;n++){var r=this.trajectories[n];r.length>=this.trajectoryWidthMax&&r.shift(),r.push(t)}},s.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t,n){u("["+e.scoreboardWidth+"C"),u(t.join("")),u("\n")}),this.cursorUp(this.numberOfLines)},s.prototype.drawNyanCat=function(){var e=this,t=this.scoreboardWidth+this.trajectories[0].length,n="["+t+"C",r="";u(n),u("_,------,"),u("\n"),u(n),r=e.tick?"  ":"   ",u("_|"+r+"/\\_/\\ "),u("\n"),u(n),r=e.tick?"_":"__";var i=e.tick?"~":"^",s;u(i+"|"+r+this.face()+" "),u("\n"),u(n),r=e.tick?" ":"  ",u(r+'""  "" '),u("\n"),this.cursorUp(this.numberOfLines)},s.prototype.face=function(){var e=this.stats;return e.failures?"( x .x)":e.pending?"( o .o)":e.passes?"( ^ .^)":"( - .-)"},s.prototype.cursorUp=function(e){u("["+e+"A")},s.prototype.cursorDown=function(e){u("["+e+"B")},s.prototype.generateColors=function(){var e=[];for(var t=0;t<42;t++){var n=Math.floor(Math.PI/3),r=t*(1/6),i=Math.floor(3*Math.sin(r)+3),s=Math.floor(3*Math.sin(r+2*n)+3),o=Math.floor(3*Math.sin(r+4*n)+3);e.push(36*i+6*s+o+16)}return e},s.prototype.rainbowify=function(e){var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"},a.prototype=r.prototype,s.prototype=new a,s.prototype.constructor=s}),e.register("reporters/progress.js",function(e,t,n){function u(e,t){r.call(this,e);var n=this,t=t||{},u=this.stats,a=r.window.width*.5|0,f=e.total,l=0,c=Math.max;t.open=t.open||"[",t.complete=t.complete||"",t.incomplete=t.incomplete||r.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),i.hide()}),e.on("test end",function(){l++;var e=f-l,n=l/f,r=a*n|0,u=a-r;i.CR(),o.stdout.write("[J"),o.stdout.write(s("progress","  "+t.open)),o.stdout.write(Array(r).join(t.complete)),o.stdout.write(Array(u).join(t.incomplete)),o.stdout.write(s("progress",t.close)),t.verbose&&o.stdout.write(s("progress"," "+l+" of "+f))}),e.on("end",function(){i.show(),console.log(),n.epilogue()})}function a(){}var r=n("./base"),i=r.cursor,s=r.color;t=e.exports=u,r.colors.progress=90,a.prototype=r.prototype,u.prototype=new a,u.prototype.constructor=u}),e.register("reporters/spec.js",function(e,t,n){function o(e){function a(){return Array(o).join("  ")}r.call(this,e);var t=this,n=this.stats,o=0,u=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++o,console.log(s("suite","%s%s"),a(),e.title)}),e.on("suite end",function(e){--o,1==o&&console.log()}),e.on("pending",function(e){var t=a()+s("pending","  - %s");console.log(t,e.title)}),e.on("pass",function(e){if("fast"==e.speed){var t=a()+s("checkmark","  "+r.symbols.ok)+s("pass"," %s ");i.CR(),console.log(t,e.title)}else{var t=a()+s("checkmark","  "+r.symbols.ok)+s("pass"," %s ")+s(e.speed,"(%dms)");i.CR(),console.log(t,e.title,e.duration)}}),e.on("fail",function(e,t){i.CR(),console.log(a()+s("fail","  %d) %s"),++u,e.title)}),e.on("end",t.epilogue.bind(t))}function u(){}var r=n("./base"),i=r.cursor,s=r.color;t=e.exports=o,u.prototype=r.prototype,o.prototype=new u,o.prototype.constructor=o}),e.register("reporters/tap.js",function(e,t,n){function o(e){r.call(this,e);var t=this,n=this.stats,i=1,s=0,o=0;e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++i}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",i,u(e))}),e.on("pass",function(e){s++,console.log("ok %d %s",i,u(e))}),e.on("fail",function(e,t){o++,console.log("not ok %d %s",i,u(e)),t.stack&&console.log(t.stack.replace(/^/gm,"  "))}),e.on("end",function(){console.log("# tests "+(s+o)),console.log("# pass "+s),console.log("# fail "+o)})}function u(e){return e.fullTitle().replace(/#/g,"")}var r=n("./base"),i=r.cursor,s=r.color;t=e.exports=o}),e.register("reporters/xunit.js",function(e,t,n){function c(e){r.call(this,e);var t=this.stats,n=[],i=this;e.on("pending",function(e){n.push(e)}),e.on("pass",function(e){n.push(e)}),e.on("fail",function(e){n.push(e)}),e.on("end",function(){console.log(d("testsuite",{name:"Mocha Tests",tests:t.tests,failures:t.failures,errors:t.failures,skipped:t.tests-t.failures-t.passes,timestamp:(new o).toUTCString(),time:t.duration/1e3||0},!1)),n.forEach(p),console.log("</testsuite>")})}function h(){}function p(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3||0};if("failed"==e.state){var n=e.err;t.message=s(n.message),console.log(d("testcase",t,!1,d("failure",t,!1,v(n.stack))))}else e.pending?console.log(d("testcase",t,!1,d("skipped",{},!0))):console.log(d("testcase",t,!0))}function d(e,t,n,r){var i=n?"/>":">",o=[],u;for(var a in t)o.push(a+'="'+s(t[a])+'"');return u="<"+e+(o.length?" "+o.join(" "):"")+i,r&&(u+=r+"</"+e+i),u}function v(e){return"<![CDATA["+s(e)+"]]>"}var r=n("./base"),i=n("../utils"),s=i.escape,o=global.Date,u=global.setTimeout,a=global.setInterval,f=global.clearTimeout,l=global.clearInterval;t=e.exports=c,h.prototype=r.prototype,c.prototype=new h,c.prototype.constructor=c}),e.register("runnable.js",function(e,t,n){function h(e,t){this.title=e,this.fn=t,this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this.timedOut=!1}function p(){}var r=n("browser/events").EventEmitter,i=n("browser/debug")("mocha:runnable"),s=n("./ms"),o=global.Date,u=global.setTimeout,a=global.setInterval,f=global.clearTimeout,l=global.clearInterval,c=Object.prototype.toString;e.exports=h,p.prototype=r.prototype,h.prototype=new p,h.prototype.constructor=h,h.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("string"==typeof e&&(e=s(e)),i("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this)},h.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=s(e)),i("timeout %d",e),this._slow=e,this)},h.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},h.prototype.clearTimeout=function(){f(this.timer)},h.prototype.inspect=function(){return JSON.stringify(this,function(e,t){if("_"==e[0])return;return"parent"==e?"#<Suite>":"ctx"==e?"#<Context>":t},2)},h.prototype.resetTimeout=function(){var e=this,t=this.timeout()||1e9;this.clearTimeout(),this.timer=u(function(){e.callback(new Error("timeout of "+t+"ms exceeded")),e.timedOut=!0},t)},h.prototype.globals=function(e){var t=this;this._allowedGlobals=e},h.prototype.run=function(e){function f(e){if(a)return;a=!0,t.emit("error",e||new Error("done() called multiple times"))}function l(n){if(t.timedOut)return;if(s)return f(n);t.clearTimeout(),t.duration=new o-r,s=!0,e(n)}var t=this,n=this.timeout(),r=new o,i=this.ctx,s,a;i&&i.runnable(this),this.async&&n&&(this.timer=u(function(){l(new Error("timeout of "+n+"ms exceeded")),t.timedOut=!0},n)),this.callback=l;if(this.async){try{this.fn.call(i,function(e){if(e instanceof Error||c.call(e)==="[object Error]")return l(e);if(null!=e)return l(new Error("done() invoked with non-Error: "+e));l()})}catch(h){l(h)}return}if(this.asyncOnly)return l(new Error("--async-only option in use without declaring `done()`"));try{this.pending||this.fn.call(i),this.duration=new o-r,e()}catch(h){e(h)}}}),e.register("runner.js",function(e,t,n){function c(e){var t=this;this._globals=[],this._abort=!1,this.suite=e,this.total=e.total(),this.failures=0,this.on("test end",function(e){t.checkGlobals(e)}),this.on("hook end",function(e){t.checkGlobals(e)}),this.grep(/.*/),this.globals(this.globalProps().concat(d()))}function h(){}function p(e,t){return a(t,function(t){if(/^d+/.test(t))return!1;if(global.navigator&&/^getInterface/.test(t))return!1;if(global.navigator&&/^\d+/.test(t))return!1;if(/^mocha-/.test(t))return!1;var n=a(e,function(e){return~e.indexOf("*")?0==t.indexOf(e.split("*")[0]):t==e});return n.length==0&&(!global.navigator||"onerror"!==t)})}function d(){if(typeof o=="object"&&typeof o.version=="string"){var e=o.version.split(".").reduce(function(e,t){return e<<8|t});if(e<2315)return["errno"]}return[]}var r=n("browser/events").EventEmitter,i=n("browser/debug")("mocha:runner"),s=n("./test"),u=n("./utils"),a=u.filter,f=u.keys,l=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"];e.exports=c,c.immediately=global.setImmediate||o.nextTick,h.prototype=r.prototype,c.prototype=new h,c.prototype.constructor=c,c.prototype.grep=function(e,t){return i("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},c.prototype.grepTotal=function(e){var t=this,n=0;return e.eachTest(function(e){var r=t._grep.test(e.fullTitle());t._invert&&(r=!r),r&&n++}),n},c.prototype.globalProps=function(){var e=u.keys(global);for(var t=0;t<l.length;++t){if(~u.indexOf(e,l[t]))continue;e.push(l[t])}return e},c.prototype.globals=function(e){return 0==arguments.length?this._globals:(i("globals %j",e),this._globals=this._globals.concat(e),this)},c.prototype.checkGlobals=function(e){if(this.ignoreLeaks)return;var t=this._globals,n=this.globalProps(),r=o.kill,i;e&&(t=t.concat(e._allowedGlobals||[]));if(this.prevGlobalsLength==n.length)return;this.prevGlobalsLength=n.length,i=p(t,n),this._globals=this._globals.concat(i),i.length>1?this.fail(e,new Error("global leaks detected: "+i.join(", ")+"")):i.length&&this.fail(e,new Error("global leak detected: "+i[0]))},c.prototype.fail=function(e,t){++this.failures,e.state="failed","string"==typeof t&&(t=new Error('the string "'+t+'" was thrown, throw an Error :)')),this.emit("fail",e,t)},c.prototype.failHook=function(e,t){this.fail(e,t),this.suite.bail()&&this.emit("end")},c.prototype.hook=function(e,t){function o(e){var s=r[e];if(!s)return t();if(i.failures&&n.bail())return t();i.currentRunnable=s,s.ctx.currentTest=i.test,i.emit("hook",s),s.on("error",function(e){i.failHook(s,e)}),s.run(function(n){s.removeAllListeners("error");var r=s.error();r&&i.fail(i.test,r);if(n)return i.failHook(s,n),t(n);i.emit("hook end",s),delete s.ctx.currentTest,o(++e)})}var n=this.suite,r=n["_"+e],i=this,s;c.immediately(function(){o(0)})},c.prototype.hooks=function(e,t,n){function s(o){r.suite=o;if(!o)return r.suite=i,n();r.hook(e,function(e){if(e){var o=r.suite;return r.suite=i,n(e,o)}s(t.pop())})}var r=this,i=this.suite;s(t.pop())},c.prototype.hookUp=function(e,t){var n=[this.suite].concat(this.parents()).reverse();this.hooks(e,n,t)},c.prototype.hookDown=function(e,t){var n=[this.suite].concat(this.parents());this.hooks(e,n,t)},c.prototype.parents=function(){var e=this.suite,t=[];while(e=e.parent)t.push(e);return t},c.prototype.runTest=function(e){var t=this.test,n=this;this.asyncOnly&&(t.asyncOnly=!0);try{t.on("error",function(e){n.fail(t,e)}),t.run(e)}catch(r){e(r)}},c.prototype.runTests=function(e,t){function s(e,r,i){var o=n.suite;n.suite=i?r.parent:r,n.suite?n.hookUp("afterEach",function(e,i){n.suite=o;if(e)return s(e,i,!0);t(r)}):(n.suite=o,t(r))}function o(u,a){if(n.failures&&e._bail)return t();if(n._abort)return t();if(u)return s(u,a,!0);i=r.shift();if(!i)return t();var f=n._grep.test(i.fullTitle());n._invert&&(f=!f);if(!f)return o();if(i.pending)return n.emit("pending",i),n.emit("test end",i),o();n.emit("test",n.test=i),n.hookDown("beforeEach",function(e,t){if(e)return s(e,t,!1);n.currentRunnable=n.test,n.runTest(function(e){i=n.test;if(e)return n.fail(i,e),n.emit("test end",i),n.hookUp("afterEach",o);i.state="passed",n.emit("pass",i),n.emit("test end",i),n.hookUp("afterEach",o)})})}var n=this,r=e.tests.slice(),i;this.next=o,o()},c.prototype.runSuite=function(e,t){function o(t){if(t)return t==e?u():u(t);if(r._abort)return u();var n=e.suites[s++];if(!n)return u();r.runSuite(n,o)}function u(n){r.suite=e,r.hook("afterAll",function(){r.emit("suite end",e),t(n)})}var n=this.grepTotal(e),r=this,s=0;i("run suite %s",e.fullTitle());if(!n)return t();this.emit("suite",this.suite=e),this.hook("beforeAll",function(t){if(t)return u();r.runTests(e,o)})},c.prototype.uncaught=function(e){i("uncaught exception %s",e.message);var t=this.currentRunnable;if(!t||"failed"==t.state)return;t.clearTimeout(),e.uncaught=!0,this.fail(t,e);if("test"==t.type){this.emit("test end",t),this.hookUp("afterEach",this.next);return}this.emit("end")},c.prototype.run=function(e){function n(e){t.uncaught(e)}var t=this,e=e||function(){};return i("start"),this.on("end",function(){i("end"),o.removeListener("uncaughtException",n),e(t.failures)}),this.emit("start"),this.runSuite(this.suite,function(){i("finished running"),t.emit("end")}),o.on("uncaughtException",n),this},c.prototype.abort=function(){i("aborting"),this._abort=!0}}),e.register("suite.js",function(e,t,n){function a(e,t){this.title=e,this.ctx=t,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._slow=75,this._bail=!1}function f(){}var r=n("browser/events").EventEmitter,i=n("browser/debug")("mocha:suite"),s=n("./ms"),o=n("./utils"),u=n("./hook");t=e.exports=a,t.create=function(e,t){var n=new a(t,e.ctx);return n.parent=e,e.pending&&(n.pending=!0),t=n.fullTitle(),e.addSuite(n),n},f.prototype=r.prototype,a.prototype=new f,a.prototype.constructor=a,a.prototype.clone=function(){var e=new a(this.title);return i("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.slow(this.slow()),e.bail(this.bail()),e},a.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("string"==typeof e&&(e=s(e)),i("timeout %d",e),this._timeout=parseInt(e,10),this)},a.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=s(e)),i("slow %d",e),this._slow=e,this)},a.prototype.bail=function(e){return 0==arguments.length?this._bail:(i("bail %s",e),this._bail=e,this)},a.prototype.beforeAll=function(e){if(this.pending)return this;var t=new u('"before all" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._beforeAll.push(t),this.emit("beforeAll",t),this},a.prototype.afterAll=function(e){if(this.pending)return this;var t=new u('"after all" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._afterAll.push(t),this.emit("afterAll",t),this},a.prototype.beforeEach=function(e){if(this.pending)return this;var t=new u('"before each" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._beforeEach.push(t),this.emit("beforeEach",t),this},a.prototype.afterEach=function(e){if(this.pending)return this;var t=new u('"after each" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._afterEach.push(t),this.emit("afterEach",t),this},a.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},a.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},a.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},a.prototype.total=function(){return o.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},a.prototype.eachTest=function(e){return o.forEach(this.tests,e),o.forEach(this.suites,function(t){t.eachTest(e)}),this}}),e.register("test.js",function(e,t,n){function i(e,t){r.call(this,e,t),this.pending=!t,this.type="test"}function s(){}var r=n("./runnable");e.exports=i,s.prototype=r.prototype,i.prototype=new s,i.prototype.constructor=i}),e.register("utils.js",function(e,t,n){function a(e){return!~u.indexOf(e)}function f(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var r=n("browser/fs"),i=n("browser/path"),s=i.join,o=n("browser/debug")("mocha:watch"),u=["node_modules",".git"];t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.forEach=function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r)},t.map=function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++)r.push(t.call(n,e[i],i));return r},t.indexOf=function(e,t,n){for(var r=n||0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},t.reduce=function(e,t,n){var r=n;for(var i=0,s=e.length;i<s;i++)r=t(r,e[i],i,e);return r},t.filter=function(e,t){var n=[];for(var r=0,i=e.length;r<i;r++){var s=e[r];t(s,r,e)&&n.push(s)}return n},t.keys=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},t.watch=function(e,t){var n={interval:100};e.forEach(function(e){o("file %s",e),r.watchFile(e,n,function(n,r){r.mtime<n.mtime&&t(e)})})},t.files=function(e,n){return n=n||[],r.readdirSync(e).filter(a).forEach(function(i){i=s(e,i),r.statSync(i).isDirectory()?t.files(i,n):i.match(/\.(js|coffee|litcoffee|coffee.md)$/)&&n.push(i)}),n},t.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},t.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var n=e.match(/^\n?( *)/)[1].length,r=e.match(/^\n?(\t*)/)[1].length,i=new RegExp("^\n?"+(r?"	":" ")+"{"+(r?r:n)+"}","gm");return e=e.replace(i,""),t.trim(e)},t.escapeRegexp=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.parseQuery=function(e){return t.reduce(e.replace("?","").split("&"),function(e,t){var n=t.indexOf("="),r=t.slice(0,n),i=t.slice(++n);return e[r]=decodeURIComponent(i),e},{})},t.highlightTags=function(e){var t=document.getElementsByTagName(e);for(var n=0,r=t.length;n<r;++n)t[n].innerHTML=f(t[n].innerHTML)}}),global=function(){return this}();var t=global.Date,n=global.setTimeout,r=global.setInterval,i=global.clearTimeout,s=global.clearInterval,o={};o.exit=function(e){},o.stdout={};var u=[];o.removeListener=function(e,t){if("uncaughtException"==e){global.onerror=function(){};var n=a.utils.indexOf(u,t);n!=-1&&u.splice(n,1)}},o.on=function(e,t){"uncaughtException"==e&&(global.onerror=function(e,n,r){return t(new Error(e+" ("+n+":"+r+")")),!0},u.push(t))};var a=global.Mocha=e("mocha"),f=global.mocha=new a({reporter:"html"});f.suite.removeAllListeners("pre-require");var l=[],c;a.Runner.immediately=function(e){l.push(e),c||(c=n(h,0))},f.throwError=function(e){throw a.utils.forEach(u,function(t){t(e)}),e},f.ui=function(e){return a.prototype.ui.call(this,e),this.suite.emit("pre-require",global,null,this),this},f.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},f.run=function(e){var t=f.options;f.globals("location");var n=a.utils.parseQuery(global.location.search||"");return n.grep&&f.grep(n.grep),n.invert&&f.invert(),a.prototype.run.call(f,function(){global.document&&a.utils.highlightTags("code"),e&&e()})},a.process=o}(),define("mocha",function(e){return function(){var t,n;return t||e.mocha}}(this)),function(e){var t=document.defaultView&&document.defaultView.getComputedStyle,n=/([A-Z])/g,r=/-([a-z])/ig,i=function(e,t){return t.toUpperCase()},s=function(e){if(t)return t(e,null);if(e.currentStyle)return e.currentStyle},o=/float/i,u=/^-?\d+(?:px)?$/i,a=/^-?\d/;e.styles=function(e,f){if(!e)return null;var l=s(e),c,h,p=e.style,d={},v=0,m,g,y,b;for(;v<f.length;v++)b=f[v],c=b.replace(r,i),o.test(b)&&(b=jQuery.support.cssFloat?"float":"styleFloat",c="cssFloat"),t?(b=b.replace(n,"-$1").toLowerCase(),h=l.getPropertyValue(b),b==="opacity"&&h===""&&(h="1"),d[c]=h):(y=b.replace(r,i),d[c]=l[b]||l[y],!u.test(d[c])&&a.test(d[c])&&(m=p.left,g=e.runtimeStyle.left,e.runtimeStyle.left=e.currentStyle.left,p.left=y==="fontSize"?"1em":d[c]||0,d[c]=p.pixelLeft+"px",p.left=m,e.runtimeStyle.left=g));return d},e.fn.styles=function(){return e.styles(this[0],e.makeArray(arguments))}}(jQuery),function(e){var t=0,n=null,r=[],i=null,s=e.fn.animate,o=function(){if(!n){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("media","screen"),document.getElementsByTagName("head")[0].appendChild(e),window.createPopup||e.appendChild(document.createTextNode("")),n=e.sheet}return n},u=function(e,t){for(var n=e.cssRules.length-1;n>=0;n--){var r=e.cssRules[n];if(r.type===7&&r.name==t){e.deleteRule(n);return}}},a=function(t,n){var r=!this[0]||!this[0].nodeType,i=!r&&e(this).css("display")==="inline"&&e(this).css("float")==="none";for(var s in t)if(t[s]=="show"||t[s]=="hide"||t[s]=="toggle"||e.isArray(t[s])||t[s]<0||s=="zIndex"||s=="z-index")return!0;return t.jquery===!0||l()===null||e.isEmptyObject(t)||n.length==4||typeof n[2]=="string"||e.isPlainObject(n)||i||r},f=function(t,n){return typeof n=="number"&&!e.cssNumber[t]?n+="px":n},l=function(){if(!i){var e,t=document.createElement("fakeelement"),n={transition:{transitionEnd:"transitionEnd",prefix:""},MozTransition:{transitionEnd:"animationend",prefix:"-moz-"},WebkitTransition:{transitionEnd:"webkitAnimationEnd",prefix:"-webkit-"}};for(e in n)t.style[e]!==undefined&&(i=n[e])}return i},c={top:function(e){return e.position().top},left:function(e){return e.position().left},width:function(e){return e.width()},height:function(e){return e.height()},fontSize:function(e){return"1em"}},h=function(t){var n={};return e.each(t,function(e,t){n[l().prefix+e]=t}),n},p=function(n){var i,s,a;return e.each(r,function(e,t){n===t.style?(s=t.name,t.age=0):t.age+=1}),s||(i=o(),s="jquerypp_animation_"+t++,i.insertRule("@"+l().prefix+"keyframes "+s+" "+n,i.cssRules&&i.cssRules.length||0),r.push({name:s,style:n,age:0}),r.sort(function(e,t){return e.age-t.age}),r.length>20&&(a=r.pop(),u(i,a.name))),s};e.fn.animate=function(t,n,r,i){if(a.apply(this,arguments))return s.apply(this,arguments);var o=jQuery.speed(n,r,i);return this.queue(o.queue,function(n){var r,i=[],s="",u,a=e(this),d=o.duration,v,m,g="{ from {",y=function(t,n){a.css(t),a.css(h({"animation-duration":"","animation-name":"","animation-fill-mode":"","animation-play-state":""})),o.old&&n&&o.old.call(a[0],!0),e.removeData(a,m,!0)};for(u in t)i.push(u);l().prefix==="-moz-"&&e.each(i,function(t,n){var r=c[e.camelCase(n)];r&&a.css(n)=="auto"&&a.css(n,r(a))}),r=a.styles.apply(a,i),e.each(i,function(e,n){var i=n.replace(/([A-Z]|^ms)/g,"-$1").toLowerCase();g+=i+" : "+f(n,r[n])+"; ",s+=i+" : "+f(n,t[n])+"; "}),g+="} to {"+s+" }}",v=p(g),m=v+".run",e._data(this,m,{stop:function(e){a.css(h({"animation-play-state":"paused"})),a.off(l().transitionEnd,y),e?y(t,!0):y(a.styles.apply(a,i),!1)}}),a.css(h({"animation-duration":d+"ms","animation-name":v,"animation-fill-mode":"forwards"})),a.one(l().transitionEnd,function(){y(t,!0),n()})}),this}}(jQuery),define("jquerypp.custom",function(){}),function(e){function a(){u&&(u.hide(),u=null),i.remove(),r.remove()}function f(e,t){l(t.url)&&(e[0].contentWindow.frameWarp={hide:a,sendMessage:function(e){return t.onMessage(e)}})}function l(e){return console.log("CORE: frameWarp sameOrigin(url) called"),c(e)==c(location.href)}function c(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.hostname}var t=e("body"),n=e(window),r,i,s={},o=e('<div class="frameCacheDiv">').appendTo("body"),u;e.fn.frameWarp=function(l){return l=e.extend({cache:!0,url:"",width:770,height:547,closeOnBackgroundClick:!0,onMessage:function(){},onShow:function(){}},l),this.on("click",function(c){c.preventDefault();var h=e(this),p=h.offset(),d={x:p.left-n.scrollLeft()+h.outerWidth()/2,y:p.top-n.scrollTop()+h.outerHeight()/2},v={x:n.width()/2,y:n.height()/2};!l.url&&h.attr("href")&&(l.url=h.attr("href")),i=e("<div>",{"class":"popupBG"}).appendTo(t),i.click(function(){l.closeOnBackgroundClick&&a()}).animate({opacity:1},400),r=e("<div>").addClass("popup").css({width:0,height:0,top:d.y,left:d.x-35}),r.appendTo(t).animate({width:l.width,top:v.y-l.height/2,left:v.x-l.width/2,"border-top-width":l.height,"border-right-width":0,"border-left-width":0},200,function(){r.addClass("loading").css({width:l.width,height:l.height});var t;l.cache&&l.url in s?t=s[l.url].show():(t=e("<iframe>",{src:l.url,css:{width:l.width,height:l.height}}),l.cache?(s[l.url]=t,t.data("cached",!0),l.onShow()):o.find("iframe").each(function(){var t=e(this);t.data("cached")||t.remove()}),t.ready(function(){o.append(t),f(t,l),l.onShow()})),u=t})}),this}}(jQuery),define("framewarp",function(){}),define("app/Base",["jquery","backbone","underscore","lodash","jquery","bootstrap","expect","mocha","jquerypp.custom","framewarp"],function(){function e(e,t){this.id=e,this.require=t;var n=t("jquery"),r=t("backbone"),i=t("underscore"),s=t("lodash"),o=t("jquery"),u=t("bootstrap"),a=t("expect"),f=t("mocha"),l=t("jquerypp.custom"),c=t("framewarp")}return console.log("CORE: mainBase called"),e.prototype={setLib:function(e){console.log("CORE: mainBase setLib(lib) called"),this.lib=e},setConfig:function(e){console.log("CORE: mainBase setConfig(config) called"),this.config=e},setController:function(e){console.log("CORE: mainBase setController(controller) called"),this.controller=e},setAppName:function(e){console.log("CORE: mainBase setAppName(appName) called: appName ="),console.log(e),this.appName=e},setElementId:function(e){console.log("CORE: mainBase setElementId(elementId) called: elementId ="),console.log(e),this.elementId=e},setModel:function(e){console.log("CORE: mainBase setModel(model) called"),this.model=e},setModelController:function(e){console.log("CORE: mainBase setModelController(modelController) called"),this.modelController=e},setModelService:function(e){console.log("CORE: mainBase setModelService(modelService) called"),this.modelService=e},setModelEvent:function(e){console.log("CORE: mainBase setModelEvent(modelEvent) called"),this.modelEvent=e},setModelIndex:function(e){console.log("CORE: mainBase setModelIndex(modelIndex) called"),this.modelIndex=e},loadModel:function(e){console.log("CORE: mainBase loadModel(modelIndex) called"),this.controller.loadModel(e)},renderModel:function(){console.log("CORE: mainBase renderModel() called"),this.controller.renderModel()},setServiceBus:function(e){console.log("CORE: mainBase setServiceBus(serviceBus) called"),this.serviceBus=e},setView:function(e){console.log("CORE: mainBase setView(view) called"),this.view=e},setViewController:function(e){console.log("CORE: mainBase setViewController(viewController) called"),this.viewController=e},setViewService:function(e){console.log("CORE: mainBase setViewService(viewService) called"),this.viewService=e},setViewEvent:function(e){console.log("CORE: mainBase setViewEvent(viewEvent) called"),this.viewEvent=e},setViewIndex:function(e){console.log("CORE: mainBase setViewIndex(viewIndex) called"),this.viewIndex=e},loadView:function(e){console.log("CORE: mainBase loadView(viewIndex) called"),this.controller.loadView(e)},renderView:function(e){console.log("CORE: mainBase renderView(elementId) called"),this.controller.renderView(e)},readyController:function(e,t){console.log("CORE: mainBase readyController(me, callback) called");var n=null;typeof e.controller=="undefined"?e.require(["../app/controller/controller"],function(r){console.log("CORE: mainBase: controller required"),console.log(r),e.controller=r,t(e,n,e.controller)}):(e.controller=e.controller,console.log(e.controller),t(e,n,e.controller))},readyConfig:function(e,t){console.log("CORE: mainBase readyConfig(me, callback) called");var n=null;typeof e.config=="undefined"?e.require(["../app/config/config"],function(r){console.log("CORE: mainBase: config required"),console.log(r),e.config=r,t(e,n,e.config)}):(e.config=e.config,console.log(e.config),t(e,n,e.config))},readyServiceBus:function(e,t){console.log("CORE: mainBase readyServiceBus(me, callback) called");var n=null;typeof e.serviceBus=="undefined"?e.require(["../app/serviceBus/serviceBus"],function(r){console.log("CORE: mainBase: serviceBus required"),console.log(r),e.serviceBus=r,t(e,n,e.serviceBus)}):(e.serviceBus=e.serviceBus,console.log(e.serviceBus),t(e,n,e.serviceBus))},readyModelController:function(e,t){console.log("CORE: mainBase readyModelController(me, callback) called");var n=null;typeof e.modelController=="undefined"?e.require(["../app/modelController/modelController"],function(r){console.log("CORE: mainBase: modelController required"),console.log(r),e.modelController=r,t(e,n,e.modelController)}):(e.modelController=e.modelController,console.log(e.modelController),t(e,n,e.modelController))},readyModelService:function(e,t){console.log("CORE: mainBase readyModelService(me, callback) called");var n=null;typeof e.modelService=="undefined"?e.require(["../app/modelService/modelService"],function(r){console.log("CORE: mainBase: modelService required"),console.log(r),e.modelService=r,t(e,n,e.modelService)}):(e.modelService=e.modelService,console.log(e.modelService),t(e,n,e.modelService))},readyModel:function(e,t){console.log("CORE: mainBase readyModel(me, callback) called");var n=null;typeof e.model=="undefined"?e.require(["../app/model/model"],function(r){console.log("CORE: mainBase: model required"),console.log(r),e.model=r,t(e,n,e.model)}):(e.model=e.model,console.log(e.model),t(e,n,e.model))},readyModelEvent:function(e,t){console.log("CORE: mainBase readyModelEvent(me, callback) called");var n=null;typeof e.modelEvent=="undefined"?e.require(["../app/modelEvent/modelEvent"],function(r){console.log("CORE: mainBase: modelEvent required"),console.log(r),e.modelEvent=r,t(e,n,e.modelEvent)}):(e.modelEvent=e.modelEvent,console.log(e.modelEvent),t(e,n,e.modelEvent))},readyViewController:function(e,t){console.log("CORE: mainBase readyViewController(me, callback) called");var n=null;typeof e.viewController=="undefined"?e.require(["../app/viewController/viewController"],function(r){console.log("CORE: mainBase: viewController required"),console.log(r),e.viewController=r,t(e,n,e.viewController)}):(e.viewController=e.viewController,console.log(e.viewController),t(e,n,e.viewController))},readyViewService:function(e,t){console.log("CORE: mainBase readyViewService(me, callback) called");var n=null;typeof e.viewService=="undefined"?e.require(["../app/viewService/viewService"],function(r){console.log("CORE: mainBase: viewService required"),console.log(r),e.viewService=r,t(e,n,e.viewService)}):(e.viewService=e.viewService,console.log(e.viewService),t(e,n,e.viewService))},readyView:function(e,t){console.log("CORE: mainBase readyView(me, callback) called");var n=null;typeof e.view=="undefined"?e.require(["../app/view/view"],function(r){console.log("CORE: mainBase: view required"),console.log(r),e.view=r,t(e,n,e.view)}):(e.view=e.view,console.log(e.view),t(e,n,e.view))},readyViewEvent:function(e,t){console.log("CORE: mainBase readyViewEvent(me, callback) called");var n=null;typeof e.viewEvent=="undefined"?e.require(["../app/viewEvent/viewEvent"],function(r){console.log("CORE: mainBase: viewEvent required"),console.log(r),e.viewEvent=r,t(e,n,e.viewEvent)}):(e.viewEvent=e.viewEvent,console.log(e.viewEvent),t(e,n,e.viewEvent))},ready:function(){console.log("CORE: mainBase ready() called");var e=this;e.readyController(e,function(e,t,n){t?(console.log("CORE: mainBase readyController error:"),console.log(t)):(console.log("CORE: mainBase ready controller:"),console.log(n),e.controller=n,console.log("CORE: mainBase ready me.controller.setAppName(me.appName):"),typeof e.appName=="undefined"?(e.appName="unknown",console.log(e.appName),e.controller.setAppName(e.appName)):(e.appName=e.appName,console.log(e.appName),e.controller.setAppName(e.appName)),e.readyConfig(e,function(e,t,n){t?(console.log("CORE: mainBase readyConfig error:"),console.log(t)):(console.log("CORE: mainBase ready config:"),console.log(n),e.config=n,console.log("CORE: mainBase ready me.controller.setConfig(me.config):"),typeof e.config=="undefined"?(e.config={},console.log(e.config),e.controller.setConfig(e.config)):(e.config=e.config,console.log(e.config),e.controller.setConfig(e.config)),e.readyServiceBus(e,function(e,t,n){t?(console.log("CORE: mainBase readyServiceBus error:"),console.log(t)):(console.log("CORE: mainBase ready serviceBus:"),console.log(n),e.serviceBus=n,console.log("CORE: mainBase ready me.controller.setServiceBus(me.serviceBus):"),typeof e.serviceBus=="undefined"?(e.serviceBus={},console.log(e.serviceBus),e.controller.setServiceBus(e.serviceBus)):(e.serviceBus=e.serviceBus,console.log(e.serviceBus),e.controller.setServiceBus(e.serviceBus)),e.readyModelController(e,function(e,t,n){t?(console.log("CORE: mainBase readyModelController error:"),console.log(t)):(console.log("CORE: mainBase ready modelController:"),console.log(n),e.modelController=n,console.log("CORE: mainBase ready me.controller.setModelController(me.modelController):"),typeof e.modelController=="undefined"?(e.modelController={},console.log(e.modelController),e.controller.setModelController(e.modelController)):(e.modelController=e.modelController,console.log(e.modelController),e.controller.setModelController(e.modelController)),e.readyModelService(e,function(e,t,n){t?(console.log("CORE: mainBase readyModelService error:"),console.log(t)):(console.log("CORE: mainBase ready modelService:"),console.log(n),e.modelService=n,console.log("CORE: mainBase ready me.controller.setModelService(me.modelService):"),typeof e.modelService=="undefined"?(e.modelService={},console.log(e.modelService),e.controller.setModelService(e.modelService)):(e.modelService=e.modelService,console.log(e.modelService),e.controller.setModelService(e.modelService)),e.readyModel(e,function(e,t,n){t?(console.log("CORE: mainBase readyModel error:"),console.log(t)):(console.log("CORE: mainBase ready model:"),console.log(n),e.model=n,console.log("CORE: mainBase ready me.controller.setModel(me.model):"),typeof e.model=="undefined"?(e.model={},console.log(e.model),e.controller.setModel(e.model)):(e.model=e.model,console.log(e.model),e.controller.setModel(e.model)),e.readyModelEvent(e,function(e,t,n){t?(console.log("CORE: mainBase readyModelEvent error:"),console.log(t)):(console.log("CORE: mainBase ready modelEvent:"),console.log(n),e.modelEvent=n,console.log("CORE: mainBase ready me.controller.setModelEvent(me.modelEvent):"),typeof e.modelEvent=="undefined"?(e.modelEvent={},console.log(e.modelEvent),e.controller.setModelEvent(e.modelEvent)):(e.modelEvent=e.modelEvent,console.log(e.modelEvent),e.controller.setModelEvent(e.modelEvent)),console.log("CORE: mainBase ready this.controller.subscribeModelService()"),e.controller.subscribeModelService(),console.log("CORE: mainBase ready me.controller.loadModel(modelIndex):"),typeof e.modelIndex=="undefined"?(e.modelIndex=0,console.log(e.modelIndex),e.controller.loadModel(e.modelIndex)):(e.modelIndex=e.modelIndex,console.log(e.modelIndex),e.controller.loadModel(e.loadIndex)),console.log("CORE: mainBase ready me.controller.renderModel():"),e.controller.renderModel())}))}))}))}),e.readyViewController(e,function(e,t,n){t?(console.log("CORE: mainBase readyViewController error:"),console.log(t)):(console.log("CORE: mainBase ready viewController:"),console.log(n),e.viewController=n,console.log("CORE: mainBase ready me.controller.setViewController(me.viewController):"),typeof e.viewController=="undefined"?(e.viewController={},console.log(e.viewController),e.controller.setViewController(e.viewController)):(e.viewController=e.viewController,console.log(e.viewController),e.controller.setViewController(e.viewController)),e.readyViewService(e,function(e,t,n){t?(console.log("CORE: mainBase readyViewService error:"),console.log(t)):(console.log("CORE: mainBase ready viewService:"),console.log(n),e.viewService=n,console.log("CORE: mainBase ready me.controller.setViewService(me.viewService):"),typeof e.viewService=="undefined"?(e.viewService={},console.log(e.viewService),e.controller.setViewService(e.viewService)):(e.viewService=e.viewService,console.log(e.viewService),e.controller.setViewService(e.viewService)),e.readyView(e,function(e,t,n){t?(console.log("CORE: mainBase readyView error:"),console.log(t)):(console.log("CORE: mainBase ready view:"),console.log(n),e.view=n,console.log("CORE: mainBase ready me.controller.setView(me.view):"),typeof e.view=="undefined"?(e.view={},console.log(e.view),e.controller.setView(e.view)):(e.view=e.view,console.log(e.view),e.controller.setView(e.view)),e.readyViewEvent(e,function(e,t,n){t?(console.log("CORE: mainBase readyViewEvent error:"),console.log(t)):(console.log("CORE: mainBase ready viewEvent:"),console.log(n),e.viewEvent=n,console.log("CORE: mainBase ready me.controller.setViewEvent(me.viewEvent):"),typeof e.viewEvent=="undefined"?(e.viewEvent={},console.log(e.viewEvent),e.controller.setViewEvent(e.viewEvent)):(e.viewEvent=e.viewEvent,console.log(e.viewEvent),e.controller.setViewEvent(e.viewEvent)),console.log("CORE: mainBase ready me.controller.subscribeViewService()"),e.controller.subscribeViewService(),console.log("CORE: mainBase ready me.controller.loadView(viewIndex):"),typeof e.viewIndex=="undefined"?(e.viewIndex=0,console.log(e.viewIndex),e.controller.loadView(e.viewIndex)):(e.viewIndex=e.viewIndex,console.log(e.viewIndex),e.controller.loadView(e.viewIndex)),console.log("CORE: mainBase ready me.controller.renderView(elementId):"),typeof e.elementId=="undefined"?(e.elementId="unknown",console.log(e.elementId),e.controller.renderView(e.elementId)):(e.elementId=e.elementId,console.log(e.elementId),e.controller.renderView(e.elementId)))}))}))}))}))}))}))})}},e}),define("app/main",["./Base","../require"],function(e,t){console.log("CORE: main called");var n=(new Date).getTime(),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(e=="x"?t:t&7|8).toString(16)}),i=new e(r,t);return i});